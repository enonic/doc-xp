<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<title>Node Library</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-right">
<div id="header">
<h1>Node Library</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#usage">Usage</a></li>
<li><a href="#events">Events</a></li>
<li><a href="#functions">Functions</a>
<ul class="sectlevel2">
<li><a href="#connect">connect</a></li>
<li><a href="#multirepoconnect">multiRepoConnect</a></li>
</ul>
</li>
<li><a href="#multirepoconnection">MultiRepoConnection</a>
<ul class="sectlevel2">
<li><a href="#query">query</a></li>
</ul>
</li>
<li><a href="#repoconnection">RepoConnection</a>
<ul class="sectlevel2">
<li><a href="#commit">commit</a></li>
<li><a href="#create">create</a></li>
<li><a href="#delete">delete</a></li>
<li><a href="#diff">diff</a></li>
<li><a href="#duplicate">duplicate</a></li>
<li><a href="#exists">exists</a></li>
<li><a href="#findchildren">findChildren</a></li>
<li><a href="#findversions">findVersions</a></li>
<li><a href="#get">get</a></li>
<li><a href="#getactiveversion">getActiveVersion</a></li>
<li><a href="#getbinary">getBinary</a></li>
<li><a href="#getcommit">getCommit</a></li>
<li><a href="#modify">modify</a></li>
<li><a href="#move">move</a></li>
<li><a href="#push">push</a></li>
<li><a href="#query_2">query</a></li>
<li><a href="#refresh">refresh</a></li>
<li><a href="#setactiveversion">setActiveVersion</a></li>
<li><a href="#setchildorder">setChildOrder</a></li>
<li><a href="#setrootpermissions">setRootPermissions</a></li>
</ul>
</li>
<li><a href="#source">Source</a></li>
<li><a href="#user">User</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This library contains functions to get, query and manipulate nodes.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="usage"><a class="link" href="#usage">Usage</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Add the following to your <code>build.gradle</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">dependencies {
  include "com.enonic.xp:lib-node:${xpVersion}"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In your JavaScript controller, add a require statement:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">const nodeLib = require('/lib/xp/node');</code></pre>
</div>
</div>
<div class="paragraph">
<p>You are now ready to use the library functionality.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="events"><a class="link" href="#events">Events</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Usage of this API produces the following events:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Distributed events</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Event</th>
<th class="tableblock halign-left valign-top">Occurs when</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">node.created</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">node is created</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">node.deleted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">node is deleted</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">node.pushed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">node is pushed to a different branch</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">node.duplicated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">node is duplicated</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">node.updated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">node is updated</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">node.moved</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">node is moved in the tree structure</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">node.renamed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">node is renamed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">node.sorted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">node is sorted</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">node.stateUpdated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">node state is updated</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For information on events, check out the <a href="lib-event.ahtml">event API</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="functions"><a class="link" href="#functions">Functions</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="connect"><a class="link" href="#connect">connect</a></h3>
<div class="paragraph">
<p>Creates a connection to a repository with a given branch and authentication info.</p>
</div>
<div class="paragraph lead">
<p>Parameters</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 98%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Kind</th>
<th class="tableblock halign-left valign-top">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">params</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#source">Source</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>object with paramters</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph lead">
<p>Returns</p>
</div>
<div class="paragraph">
<p><strong><a href="#repoconnection">RepoConnection</a></strong> : A new connection to the repository</p>
</div>
<div class="paragraph lead">
<p>Example</p>
</div>
<div class="listingblock">
<div class="title">A sample function that will return a RepoConnection:</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var connect = function () {
    return nodeLib.connect({
        repoId: testRepoId,
        branch: 'master'
    });
};</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="multirepoconnect"><a class="link" href="#multirepoconnect">multiRepoConnect</a></h3>
<div class="paragraph">
<p>Creates a connection to several repositories with a given branch and authentication info.</p>
</div>
<div class="paragraph lead">
<p>Parameters</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 98%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Kind</th>
<th class="tableblock halign-left valign-top">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sources</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#source">Source</a>[]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>array of repository source objects</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph lead">
<p>Returns</p>
</div>
<div class="paragraph">
<p><strong><a href="#multirepoconnection">MultiRepoConnection</a></strong> : A new connection object for all connected repositories.</p>
</div>
<div class="paragraph lead">
<p>Example</p>
</div>
<div class="listingblock">
<div class="title">Connect to repo 'myRepo', branch 'master'.</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var searchConnection = nodeLib.multiRepoConnect({
    sources: [
        {
            repoId: 'my-repo',
            branch: 'myBranch',
            principals: ["role:system.admin"]
        },
        {
            repoId: 'my-other-repo',
            branch: 'master',
            principals: ["role:system.admin"]
        }
    ]
});</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="multirepoconnection"><a class="link" href="#multirepoconnection">MultiRepoConnection</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>A MultiRepoConnection makes it possible to search across multiple repositories.  The object has only one method: query.</p>
</div>
<div class="sect2">
<h3 id="query"><a class="link" href="#query">query</a></h3>
<div class="paragraph">
<p>This command queries nodes in a multi-repo connection.</p>
</div>
<div class="paragraph lead">
<p>Parameters</p>
</div>
<div class="paragraph">
<p>An object with the following keys and their values:</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 0.99%;">
<col style="width: 0.99%;">
<col style="width: 0.99%;">
<col style="width: 97.03%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Attributes</th>
<th class="tableblock halign-left valign-top">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">start</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Start index used for paging - default: 0</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">count</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Number of content to fetch, used for paging - default: 10</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">query</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string/object</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Query string or <a href="../storage/dsl.ahtml">DSL</a> expression.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">filters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Query filters</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sort</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Sorting expression - default: '_score DESC'</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aggregations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="../storage/aggregations.ahtml">Aggregations</a> config</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">highlight</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="../storage/highlighting.ahtml">Highlighting</a> config</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">explain</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If set to <code>true</code>, score calculation explanation will be included in result.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph lead">
<p>Returns</p>
</div>
<div class="paragraph">
<p><strong>object</strong> : Result of query</p>
</div>
<div class="paragraph lead">
<p>Example</p>
</div>
<div class="listingblock">
<div class="title">Query multi-repo connection</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var result = multiRepoConnection.query({
    start: 0,
    count: 2,
    query: "startTime &gt; instant('2016-10-11T14:38:54.454Z')",
    filters: {
        boolean: {
            must: {
                exists: {
                    field: "modifiedTime"
                }
            },
            mustNot: {
                hasValue: {
                    field: "myField",
                    values: [
                        "cheese",
                        "fish",
                        "onion"
                    ]
                }
            }
        },
        notExists: {
            field: "unwantedField"
        },
        ids: {
            values: ["id1", "id2"]
        }
    }
});</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Sample response</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">{
    total: 12902,
    count: 2,
    hits: [
        {
            id: "b186d24f-ac38-42ca-a6db-1c1bda6c6c26",
            score: 1.2300000190734863,
            repoId: "my-repo",
            branch: "master"
        },
        {
            id: "350ba4a6-589c-498b-8af0-f183850e1120",
            score: 1.399999976158142,
            repoId: "com.enonic.cms.default",
            branch: "draft"
        }
    ]
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="repoconnection"><a class="link" href="#repoconnection">RepoConnection</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>A single repo connections with lots of methods to work on the repo:</p>
</div>
<div class="paragraph">
<p>All the examples below are using a repo connection to execute the functions.
The repo connection can be created like this:</p>
</div>
<div class="listingblock">
<div class="title">Connecting to a repo.</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var repo = nodeLib.connect({
    repoId: "com.enonic.cms.default",
    branch: "master"
});</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="commit"><a class="link" href="#commit">commit</a></h3>
<div class="paragraph">
<p>Commits the active version of nodes.</p>
</div>
<div class="paragraph lead">
<p>Parameters</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 98%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Kind</th>
<th class="tableblock halign-left valign-top">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">keys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string | string[]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node keys to commit. Each argument could be an id, a path or an array of the two. Prefer the usage of ID rather than paths.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional commit message</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph lead">
<p>Returns</p>
</div>
<div class="paragraph">
<p><strong>object</strong> : Commit object(s)</p>
</div>
<div class="paragraph lead">
<p>Example</p>
</div>
<div class="listingblock">
<div class="title">Committing a node.</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var result1 = repo.commit({keys: 'nodeId'});</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Sample response</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">{
    "id": "aa1f76bf-4bb9-41be-b166-03561c1555b2",
    "message": "",
    "committer": "user:system:anonymous",
    "timestamp": "2019-01-24T15:16:36.260799Z"
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Committing nodes.</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var result2 = repo.commit({
    keys: ['nodeId', 'nodeId2'],
    message: 'Commit message'
});</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Sample response</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">{
    {
        id: "aa1f76bf-4bb9-41be-b166-03561c1555b2",
        message: "Commit message",
        committer: "user:system:anonymous",
        timestamp: "2019-01-24T15:19:30.818029Z"
    },
    {
        id: "5c15b187-e3ab-4d87-88b2-ffb84bd1c7bb",
        message: "Commit message",
        committer: "user:system:anonymous",
        timestamp: "2019-01-24T15:19:30.818029Z"
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="create"><a class="link" href="#create">create</a></h3>
<div class="paragraph">
<p>Creating a node.  To create a content where the name is not important and there could be multiple instances under the same parent content,
skip the name parameter and specify a displayName.</p>
</div>
<div class="paragraph lead">
<p>Parameters</p>
</div>
<div class="paragraph">
<p>An object with the following keys and their values:</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 97%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Attributes</th>
<th class="tableblock halign-left valign-top">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">_name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;optional&gt;</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Name of content.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">_parentPath</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;optional&gt;</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Path to place content under.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">_indexConfig</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;optional&gt;</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>How the document should be <a href="../storage/indexing.ahtml">indexed</a>. A default template value
"<a href="../storage/indexing.ahtml#byType">byType</a>" will be set if no value specified.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">_permissions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;optional&gt;</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The access control list for the node. By default the creator will have full access</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">_inheritsPermissions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;optional&gt;</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>true</code> if the permissions should be inherited from the node parent. Default is <code>false</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">_manualOrderValue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;optional&gt;</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Value used to order document when ordering by parent and child-order is set to manual</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">_childOrder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;optional&gt;</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Default ordering of children when doing getChildren if no order is given in query</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph lead">
<p>Returns</p>
</div>
<div class="paragraph">
<p><strong>object</strong> : Created object</p>
</div>
<div class="paragraph lead">
<p>Example</p>
</div>
<div class="listingblock">
<div class="title">Create a node on a <code>repo</code> connection:</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var result1 = repo.create({
    _name: 'nerd',
    displayName: 'Carpenter and IT expert',
    likes: 'Plywood',
    numberOfUselessGadgets: 123
});</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Sample response</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">{
  "_id": "2f0d5c09-39fe-4746-9754-74491d75a185",
  "_name": "nerd",
  "_path": "/nerd",
  "_childOrder": "_ts DESC",
  "_indexConfig": {
    "default": {
      "decideByType": true,
      "enabled": true,
      "nGram": false,
      "fulltext": false,
      "includeInAllText": false,
      "path": false,
      "indexValueProcessors": [],
      "languages": []
    },
    "configs": []
  },
  "_inheritsPermissions": false,
  "_permissions": [
    {
      "principal": "role:system.admin",
      "allow": [
        "READ",
        "CREATE",
        "MODIFY",
        "DELETE",
        "PUBLISH",
        "READ_PERMISSIONS",
        "WRITE_PERMISSIONS"
      ],
      "deny": []
    },
    {
      "principal": "role:system.everyone",
      "allow": [
        "READ"
      ],
      "deny": []
    }
  ],
  "_state": "DEFAULT",
  "_nodeType": "default",
  "_versionKey": "aa95ae7e-b975-4879-a19c-cce3b1fc3742",
  "_ts": "2021-05-15T08:46:37.227Z",
  "displayName": "Carpenter and IT expert",
  "likes": "Plywood",
  "numberOfUselessGadgets": 123
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="delete"><a class="link" href="#delete">delete</a></h3>
<div class="paragraph">
<p>Deleting a node or nodes.</p>
</div>
<div class="paragraph lead">
<p>Parameters</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 98%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Kind</th>
<th class="tableblock halign-left valign-top">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">keys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string | string[]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node keys to delete. Each argument could be an id, a path or an array of the two. Prefer the usage of ID rather than paths.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph lead">
<p>Returns</p>
</div>
<div class="paragraph">
<p><strong>string[]</strong> : The list of keys that were actually deleted.</p>
</div>
<div class="paragraph lead">
<p>Example</p>
</div>
<div class="listingblock">
<div class="title">Deleting nodes</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var result = repo.delete('nodeId', '/node2-path', 'missingNodeId');</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Sample response</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">[
    "7b175b63-b012-4f20-b31d-b8f78420d7f1",
    "69f225a1-e775-4845-89f0-29b808a9a659"
]</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="diff"><a class="link" href="#diff">diff</a></h3>
<div class="paragraph">
<p>Resolves the differences for a node between current and given branch.</p>
</div>
<div class="paragraph lead">
<p>Parameters</p>
</div>
<div class="paragraph">
<p>An object with the following keys and their values:</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 97%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Attributes</th>
<th class="tableblock halign-left valign-top">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Path or id to resolve diff for</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">target</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Branch to differentiate with</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">includeChildren</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If set to <code>true</code>, differences are resolved for all children.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph lead">
<p>Returns</p>
</div>
<div class="paragraph">
<p><strong>object</strong> : An array with differences in the status for each node in the tree that has differences between the branches.</p>
</div>
<div class="paragraph lead">
<p>Example</p>
</div>
<div class="listingblock">
<div class="title">Comparing draft and master branch</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var result = repo.diff({
                     key: '/my-name',
                     target: 'draft',
                     includeChildren: true
                 });</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Sample response</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">{
    diff: [
        {
            id: "c8121875-a9b7-42e4-acf2-75cb52687ddb", <i class="conum" data-value="1"></i><b>(1)</b>
            status: "NEWER"
        }
    ]
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>There are 2 children, but only one has been changed</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="duplicate"><a class="link" href="#duplicate">duplicate</a></h3>
<div class="paragraph">
<p><span class="image"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="64" height="20"><linearGradient id="s" x2="0" y2="100%"><stop offset="0" stop-color="#bbb" stop-opacity=".1"/><stop offset="1" stop-opacity=".1"/></linearGradient><clipPath id="r"><rect width="64" height="20" rx="3" fill="#fff"/></clipPath><g clip-path="url(#r)"><rect width="25" height="20" fill="#555"/><rect x="25" width="39" height="20" fill="#007ec6"/><rect width="64" height="20" fill="url(#s)"/></g><g fill="#fff" text-anchor="middle" font-family="Verdana,Geneva,DejaVu Sans,sans-serif" text-rendering="geometricPrecision" font-size="110"><text x="135" y="150" fill="#010101" fill-opacity=".3" transform="scale(.1)" textLength="150">XP</text><text x="135" y="140" transform="scale(.1)" textLength="150">XP</text><text x="435" y="150" fill="#010101" fill-opacity=".3" transform="scale(.1)" textLength="290">7.12.0</text><text x="435" y="140" transform="scale(.1)" textLength="290">7.12.0</text></g></svg></span> This function duplicates a node.</p>
</div>
<div class="paragraph lead">
<p>Parameters</p>
</div>
<div class="paragraph">
<p>An object with the following keys and their values:</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 96%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Kind</th>
<th class="tableblock halign-left valign-top">Attributes</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">nodeId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Id to the node.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;optional&gt;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>New node name.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">includeChildren</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;optional&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Indicates that children nodes must be duplicated, too.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">parent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;optional&gt;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Destination parent path. By default, a duplicated node will be added as a sibling of the source node.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">refresh</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;optional&gt;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Refresh the index for the current repoConnection.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dataProcessor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">function</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;optional&gt;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node data processor.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph lead">
<p>Returns duplicated node.</p>
</div>
<div class="paragraph">
<p><strong>object</strong> : Duplicated node</p>
</div>
<div class="paragraph lead">
<p>Example</p>
</div>
<div class="listingblock">
<div class="title">Duplicate a node</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var result = repo.duplicate({
    nodeId: 'nodeId',
    name: 'duplicated-node',
    includeChildren: false,
    dataProcessor: function (originalData) {
        originalData.data.extraProp = 'extraPropValue';
        return originalData;
    },
    parent: '/',
    refresh: 'SEARCH'
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="exists"><a class="link" href="#exists">exists</a></h3>
<div class="paragraph">
<p>Checks if a node exists for the current context.</p>
</div>
<div class="paragraph lead">
<p>Parameters</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 98%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Kind</th>
<th class="tableblock halign-left valign-top">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Path or id to the node</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph lead">
<p>Returns</p>
</div>
<div class="paragraph">
<p><strong>boolean</strong> : true if exists, false otherwise</p>
</div>
<div class="paragraph lead">
<p>Examples</p>
</div>
<div class="listingblock">
<div class="title">Check for existing node by path</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">// Checking if a node exists by path
const result = repo.exists('/path/to/mynode');

if (result) {
    log.info('Node exists');
} else {
    log.info('Node does not exist');
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Check for existing node by id</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">// Checking if a node exists by id
const result = repo.exists('77963d9e-b3c8-4a53-85a9-20c375a92742');

if (result) {
    log.info('Node exists');
} else {
    log.info('Node does not exist');
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="findchildren"><a class="link" href="#findchildren">findChildren</a></h3>
<div class="paragraph">
<p>Fetch the children of a node.</p>
</div>
<div class="paragraph lead">
<p>Parameters</p>
</div>
<div class="paragraph">
<p>An object with the following keys and their values:</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 97%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Attributes</th>
<th class="tableblock halign-left valign-top">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">parentKey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Path or ID of parent to get children of</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">start</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>start index used for paging - default: 0</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">count</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>number of content to fetch, used for paging - default: 10</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">childOrder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>How to order the children - default is value stored on parent</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">countOnly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optimize for count children only - default is <code>false</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">recursive</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Do recursive fetching of all children of children - default is <code>false</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph lead">
<p>Returns</p>
</div>
<div class="paragraph">
<p><strong>object</strong> : An object with stats about the result and an array with all IDs of the children.</p>
</div>
<div class="paragraph lead">
<p>Example</p>
</div>
<div class="listingblock">
<div class="title">Find child nodes under a given parent path</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var result = repo.findChildren({
                     parentKey: "/my-name"
                 });</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Sample response</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">{
    "total": 2,
    "count": 10,
    "hits": [
        {
            "id": "c8121875-a9b7-42e4-acf2-75cb52687ddb"
        },
        {
            "id": "636a616b-c8e4-480c-afa9-be88a737cf52"
        }
    ]
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="findversions"><a class="link" href="#findversions">findVersions</a></h3>
<div class="paragraph">
<p>Fetch the versions of a node.</p>
</div>
<div class="paragraph lead">
<p>Parameters</p>
</div>
<div class="paragraph">
<p>An object with the following keys and their values:</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 97%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Attributes</th>
<th class="tableblock halign-left valign-top">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Path or ID of a node to get versions of</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">start</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>start index used for paging - default: 0</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">count</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>number of content to fetch, used for paging - default: 10</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph lead">
<p>Returns</p>
</div>
<div class="paragraph">
<p><strong>object</strong> : An object with stats about the result and an array listing the versions</p>
</div>
<div class="paragraph lead">
<p>Example</p>
</div>
<div class="listingblock">
<div class="title">Fetch all versions of a content with a given path</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var result = repo.findVersions({
    key: '/my-name'
});</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Sample response</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">{
    "total": 2,
    "count": 2,
    "hits": [
        {
            "versionId": "72dcd8c1-9d70-444d-ad7a-508d8c1865a0",
            "nodeId": "ddd1c933-0725-45e8-9a54-a3dd87193f60",
            "nodePath": "/my-name",
            "timestamp": "2019-05-13T15:56:17.018Z"
        },
        {
            "versionId": "04c6b8d7-3c56-458f-80c9-c6ee551fc21d",
            "nodeId": "ddd1c933-0725-45e8-9a54-a3dd87193f60",
            "nodePath": "/my-name",
            "timestamp": "2019-05-13T15:56:16.995Z"
        }
    ]
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="get"><a class="link" href="#get">get</a></h3>
<div class="paragraph">
<p>Fetches specific nodes by path or ID.</p>
</div>
<div class="paragraph lead">
<p>Parameters</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 98%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Kind</th>
<th class="tableblock halign-left valign-top">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">params</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string | string[]|object</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>One or multiple strings, or one or multiple arrays of strings, or an object with the following properties:</p>
</div>
<table class="tableblock frame-ends grid-none stretch">
<caption class="title">Properties</caption>
<colgroup>
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 96%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Attributes</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Node id or path</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">versionId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;optional&gt;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specific version to get the node from (default is active version)</p>
</div></div></td>
</tr>
</tbody>
</table></div></td>
</tr>
</tbody>
</table>
<div class="paragraph lead">
<p>Returns</p>
</div>
<div class="paragraph">
<p><strong>object</strong> : The node or node array (as JSON) fetched from the repository.</p>
</div>
<div class="paragraph lead">
<p>Example</p>
</div>
<div class="listingblock">
<div class="title">Fetch a single node using id as a string.</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var node = repo.get('nodeId');</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Fetch several nodes using a sequence of nodeIds.</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var nodes = repo.get('nodeId_1', 'nodeId_2');</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Fetch several nodes using an array of nodeIds.</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var nodes = repo.get(['nodeId_1', 'nodeId_2']);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Fetch several nodes using mixed parameters.</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var nodes = repo.get([{
    key: 'nodeId',
    versionId: 'versionKey'
}, {
    key: '/my-name'
}, 'nodeId']);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="getactiveversion"><a class="link" href="#getactiveversion">getActiveVersion</a></h3>
<div class="paragraph">
<p>Fetches the active version of a node.</p>
</div>
<div class="paragraph lead">
<p>Parameters</p>
</div>
<div class="paragraph">
<p>An object with the following key and value:</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 98%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Kind</th>
<th class="tableblock halign-left valign-top">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Path or ID of the node</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph lead">
<p>Returns</p>
</div>
<div class="paragraph">
<p><strong>object</strong> : Active content versions per branch</p>
</div>
</div>
<div class="sect2">
<h3 id="getbinary"><a class="link" href="#getbinary">getBinary</a></h3>
<div class="paragraph">
<p>Returns a binary stream.</p>
</div>
<div class="paragraph lead">
<p>Parameters</p>
</div>
<div class="paragraph">
<p>An object with the following keys and their values:</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 98%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Kind</th>
<th class="tableblock halign-left valign-top">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Path or ID of the node</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">binaryReference</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>to the binary</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph lead">
<p>Returns</p>
</div>
<div class="paragraph">
<p><strong>\</strong>* : Stream of the binary</p>
</div>
<div class="paragraph lead">
<p>Example</p>
</div>
<div class="listingblock">
<div class="title">Fetching the binary of a node.</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var binaryStream = repo.getBinary({
    key: "/myNode",
    binaryReference: "myBinaryReference"
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="getcommit"><a class="link" href="#getcommit">getCommit</a></h3>
<div class="paragraph">
<p><span class="image"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="64" height="20"><linearGradient id="s" x2="0" y2="100%"><stop offset="0" stop-color="#bbb" stop-opacity=".1"/><stop offset="1" stop-opacity=".1"/></linearGradient><clipPath id="r"><rect width="64" height="20" rx="3" fill="#fff"/></clipPath><g clip-path="url(#r)"><rect width="25" height="20" fill="#555"/><rect x="25" width="39" height="20" fill="#007ec6"/><rect width="64" height="20" fill="url(#s)"/></g><g fill="#fff" text-anchor="middle" font-family="Verdana,Geneva,DejaVu Sans,sans-serif" text-rendering="geometricPrecision" font-size="110"><text x="135" y="150" fill="#010101" fill-opacity=".3" transform="scale(.1)" textLength="150">XP</text><text x="135" y="140" transform="scale(.1)" textLength="150">XP</text><text x="435" y="150" fill="#010101" fill-opacity=".3" transform="scale(.1)" textLength="290">7.7.0</text><text x="435" y="140" transform="scale(.1)" textLength="290">7.7.0</text></g></svg></span></p>
</div>
<div class="paragraph">
<p>Returns a node version commit.</p>
</div>
<div class="paragraph lead">
<p>Parameters</p>
</div>
<div class="paragraph">
<p>An object with the following keys and their value:</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 98%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Kind</th>
<th class="tableblock halign-left valign-top">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>ID of the commit</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph lead">
<p>Returns</p>
</div>
<div class="paragraph">
<p><strong>object</strong> : Commit object</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 98%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Kind</th>
<th class="tableblock halign-left valign-top">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Commit ID</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional commit message</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">committer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Principal key of commit creator</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">timestamp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Time of creation</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph lead">
<p>Example</p>
</div>
<div class="listingblock">
<div class="title">Fetching a commit version of a node.</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var commit = repo.getCommit({
    id: "aa1f76bf-4bb9-41be-b166-03561c1555b2"
});</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Sample response</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">{
    "id": "aa1f76bf-4bb9-41be-b166-03561c1555b2",
    "message": "",
    "committer": "user:system:anonymous",
    "timestamp": "2019-01-24T15:16:36.260799Z"
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="modify"><a class="link" href="#modify">modify</a></h3>
<div class="paragraph">
<p>Modifies a node.</p>
</div>
<div class="paragraph lead">
<p>Parameters</p>
</div>
<div class="paragraph">
<p>An object with the following keys and their values:</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 98%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Kind</th>
<th class="tableblock halign-left valign-top">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Path or ID of the node</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">editor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">function</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Editor callback function</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph lead">
<p>Returns</p>
</div>
<div class="paragraph">
<p><strong>object</strong> : The modified node</p>
</div>
<div class="paragraph lead">
<p>Example</p>
</div>
<div class="listingblock">
<div class="title">Modifying a node.</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var result = repo.modify({
    key: key,
    editor: function (node) {
        node.someData.cars.push('peugeot');
        return node;
    }
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="move"><a class="link" href="#move">move</a></h3>
<div class="paragraph">
<p>Rename a node or move it do a new path.</p>
</div>
<div class="paragraph lead">
<p>Parameters</p>
</div>
<div class="paragraph">
<p>An object with the following keys and their values:</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 98%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Kind</th>
<th class="tableblock halign-left valign-top">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">source</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Path or id of the node to be moved or renamed</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">target</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>New path or name for the node. If the target ends in slash '/', it specifies the parent path where to be moved. Otherwise it means the new desired path or name for the node.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph lead">
<p>Returns</p>
</div>
<div class="paragraph">
<p><strong>boolean</strong> : <code>true</code> if the node was successfully moved or renamed, <code>false</code> otherwise.</p>
</div>
<div class="paragraph lead">
<p>Examples</p>
</div>
<div class="listingblock">
<div class="title">Changing the name of a node.</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var moved = repo.move({
                source: '/my-name',
                target: 'new-name'
            });</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Moving a node to a new location.</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var moved = repo.move({
                source: '/my-name',
                target: '/new-parent/'
            });</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Move and rename a node in the same operation.</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var moved = repo.move({
                source: '/my-name',
                target: '/content/my-site/folder/new-name'
            });</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="push"><a class="link" href="#push">push</a></h3>
<div class="paragraph">
<p>Pushes a node to a given branch.</p>
</div>
<div class="paragraph lead">
<p>Parameters</p>
</div>
<div class="paragraph">
<p>An object with the following keys and their values:</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 98%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Kind</th>
<th class="tableblock halign-left valign-top">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Id or path to the nodes</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">keys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string[]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Array of ids or paths to the nodes</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">target</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Branch to push to</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">includeChildren</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Also push children of given nodes.  Default is <code>false</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resolve</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Resolve dependencies before pushing, meaning that references will also be pushed.  Default is <code>true</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">exclude</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string[]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional array of ids or paths to nodes not to be pushed.  If using this, be aware that nodes need to maintain data integrity (e.g parents must be present in target).  If data integrity is not maintained with excluded nodes, they will be pushed anyway.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph lead">
<p>Returns</p>
</div>
<div class="paragraph">
<p><strong>object</strong> : PushNodeResult</p>
</div>
<div class="paragraph lead">
<p>Examples</p>
</div>
<div class="listingblock">
<div class="title">Pushing nodes from current branch.</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var result = repo.push({
    keys: ['a'],
    target: 'otherBranch',
    resolve: false
});</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Sample response</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">{
    "success": [
        "a"
    ],
    "failed": [],
    "deleted": []
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Pushing content with children where not all children are allowed.</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var result = repo.push({
    keys: ['a'],
    target: 'otherBranch',
    resolve: true,
    includeChildren: true
});</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Sample response</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">{
    "success": [
        "a",
        "b",
        "c"
    ],
    "failed": [
        {
            "id": "d",
            "reason": "ACCESS_DENIED"
        }
    ],
    "deleted": []
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Pushing node with children, but excluding some of them.</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var result = repo.push({
    keys: ['/a'],
    target: 'otherBranch',
    resolve: true,
    includeChildren: true,
    exclude: ['/a/b', '/a/c']
});</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Sample response</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">{
    "success": [
        "a",
        "d"
    ],
    "failed": [],
    "deleted": []
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query_2"><a class="link" href="#query_2">query</a></h3>
<div class="paragraph">
<p>Queries nodes</p>
</div>
<div class="paragraph lead">
<p>Parameters</p>
</div>
<div class="paragraph">
<p>An object with the following keys and their values:</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 0.99%;">
<col style="width: 0.99%;">
<col style="width: 0.99%;">
<col style="width: 97.03%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Attributes</th>
<th class="tableblock halign-left valign-top">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">start</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Start index used for paging - default: 0</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">count</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Number of content to fetch, used for paging - default: 10</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">query</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string/object</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Query string or <a href="../storage/dsl.ahtml">DSL</a> expression.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">filters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Query filters</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sort</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string/object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Sorting string or <a href="../storage/dsl.ahtml#sort">DSL</a> expression. Default: '_score DESC'</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aggregations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="../storage/aggregations.ahtml">Aggregations</a> config</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">highlight</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="../storage/highlighting.ahtml">Highlighting</a> config</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">explain</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">optional</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If set to <code>true</code>, score calculation explanation will be included in result.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph lead">
<p>Returns</p>
</div>
<div class="paragraph">
<p><strong>object</strong> : stats, hits and if requested, aggregations</p>
</div>
<div class="paragraph lead">
<p>Examples</p>
</div>
<div class="listingblock">
<div class="title">A simple query using a the fulltext function</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var result = repo.query({
        query: "fulltext('_name', '_name')"
    });</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Sample response</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">{
    "total": 4,
    "count": 4,
    "hits": [
        {
            "id": "5be12847-cbad-4e61-a36c-e94ffb597afb",
            "score": 0.7071067690849304
        },
        {
            "id": "3928476f-915d-4a6a-97cc-f1c8a905f71a",
            "score": 0.625
        },
        {
            "id": "a2e38aab-6efb-4f20-862c-e23ef24b3fc3",
            "score": 0.5
        },
        {
            "id": "3a842eff-ef49-4781-8c1a-dcfcf515db51",
            "score": 0.5
        }
    ],
    "aggregations": {}
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Query content using aggregations.</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var result = repo.query({
    start: 0,
    count: 2,
    query: "startTime &gt; instant('2016-10-11T14:38:54.454Z')",
    filters: {
        boolean: {
            must: [
                {
                    exists: {
                        field: "modifiedTime"
                    }
                },
                {
                    exists: {
                        field: "other"
                    }
                }
            ],
            mustNot: {
                hasValue: {
                    field: "myField",
                    values: [
                        "cheese",
                        "fish",
                        "onion"
                    ]
                }
            }
        },
        notExists: {
            field: "unwantedField"
        },
        ids: {
            values: ["id1", "id2"]
        }
    },
    sort: "duration DESC",
    aggregations: {
        urls: {
            terms: {
                field: "url",
                order: "_count desc",
                size: 2
            },
            aggregations: {
                duration: {
                    histogram: {
                        field: "duration",
                        interval: 100,
                        minDocCount: 1,
                        extendedBoundMin: 0,
                        extendedBoundMax: 10000,
                        order: "_key desc"
                    }
                },
                durationStats: {
                    stats: {
                        field: "duration"
                    }
                }
            }
        }
    }
});</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Sample response</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">{
    "total": 12902,
    "count": 2,
    "hits": [
        {
            "id": "b186d24f-ac38-42ca-a6db-1c1bda6c6c26",
            "score": 1.2300000190734863
        },
        {
            "id": "350ba4a6-589c-498b-8af0-f183850e1120",
            "score": 1.399999976158142
        }
    ],
    "aggregations": {
        "urls": {
            "buckets": [
                {
                    "key": "/site/draft/superhero/search",
                    "docCount": 6762,
                    "duration": {
                        "buckets": [
                            {
                                "key": "1600",
                                "docCount": 2
                            },
                            {
                                "key": "1400",
                                "docCount": 1
                            },
                            {
                                "key": "1300",
                                "docCount": 5
                            }
                        ]
                    }
                },
                {
                    "key": "/site/draft/superhero",
                    "docCount": 1245,
                    "duration": {
                        "buckets": [
                            {
                                "key": "1600",
                                "docCount": 2
                            },
                            {
                                "key": "1400",
                                "docCount": 1
                            },
                            {
                                "key": "1300",
                                "docCount": 5
                            }
                        ]
                    }
                }
            ]
        }
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="refresh"><a class="link" href="#refresh">refresh</a></h3>
<div class="paragraph">
<p>Refresh the index for the current repoConnection.  The index has two parts, search and storage.  It is possible to index both or just one of them.</p>
</div>
<div class="paragraph lead">
<p>Parameters</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 98%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Kind</th>
<th class="tableblock halign-left valign-top">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>ALL for both indexes, SEARCH for search-index or STORAGE for storage-index.  Default is ALL.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph lead">
<p>Returns</p>
</div>
<div class="paragraph">
<p><strong>NULL</strong></p>
</div>
<div class="paragraph lead">
<p>Examples</p>
</div>
<div class="listingblock">
<div class="title">Refreshing the full index</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">repo.refresh();</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Refreshing the serach index</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">repo.refresh('SEARCH');</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="setactiveversion"><a class="link" href="#setactiveversion">setActiveVersion</a></h3>
<div class="paragraph">
<p>Set the active version of a node.</p>
</div>
<div class="paragraph lead">
<p>Parameters</p>
</div>
<div class="paragraph">
<p>An object with the following keys and their values:</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 98%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Kind</th>
<th class="tableblock halign-left valign-top">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Path or ID of the node</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">versionID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Version to set as active</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph lead">
<p>Returns</p>
</div>
<div class="paragraph">
<p><strong>boolean</strong> : <code>true</code> if deleted, <code>false</code> otherwise</p>
</div>
<div class="paragraph lead">
<p>Example</p>
</div>
<div class="listingblock">
<div class="title">Setting the previous version active</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var findVersions = repo.findVersions({
    key: node._id
});

var result = repo.setActiveVersion({
    key: node._id,
    versionId: findVersions.hits[1].versionId
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="setchildorder"><a class="link" href="#setchildorder">setChildOrder</a></h3>
<div class="paragraph">
<p>Set the order of the node&#8217;s children.</p>
</div>
<div class="paragraph lead">
<p>Parameters</p>
</div>
<div class="paragraph">
<p>An object with the following keys and their values:</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 98%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Kind</th>
<th class="tableblock halign-left valign-top">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Path or ID of the node</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">childOrder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>children order</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph lead">
<p>Returns</p>
</div>
<div class="paragraph">
<p><strong>object</strong> : The updated node</p>
</div>
<div class="paragraph lead">
<p>Example</p>
</div>
<div class="listingblock">
<div class="title">Setting the children to be ordered in reverse alphabetical order by name</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">repo.setChildOrder({
    key: '/name-list',
    childOrder: 'name DESC'
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="setrootpermissions"><a class="link" href="#setrootpermissions">setRootPermissions</a></h3>
<div class="paragraph">
<p>Set the root node permissions and inheritance.</p>
</div>
<div class="paragraph lead">
<p>Parameters</p>
</div>
<div class="paragraph">
<p>An object with the following keys and their values:</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 98%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Kind</th>
<th class="tableblock halign-left valign-top">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">_permissions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The permissions</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">_inheritPermissions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>true</code> if the permissions should be inherited to children</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph lead">
<p>Returns</p>
</div>
<div class="paragraph">
<p><strong>object</strong> : The updated root-node</p>
</div>
<div class="paragraph lead">
<p>Example</p>
</div>
<div class="listingblock">
<div class="title">Setting example permissions</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">var result = repo.setRootPermissions({
    _permissions: [
        {
            "principal": "role:system.admin",
            "allow": [
                "READ",
                "CREATE",
                "MODIFY",
                "DELETE",
                "PUBLISH",
                "READ_PERMISSIONS",
                "WRITE_PERMISSIONS"
            ],
            "deny": []
        }
    ],
    _inheritsPermissions: true
});</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="source"><a class="link" href="#source">Source</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>A source definition of repositories:</p>
</div>
<div class="paragraph lead">
<p>Fields</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 98%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Kind</th>
<th class="tableblock halign-left valign-top">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">repoId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Repository ID</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">branch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Branch ID</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#user">User</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional user to execute the callback with - Default is the default user</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">principals</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string[]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Additional principals to execute the callback with</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="user"><a class="link" href="#user">User</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>User object to use for connections:</p>
</div>
<div class="paragraph lead">
<p>Fields</p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 1%;">
<col style="width: 1%;">
<col style="width: 98%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Kind</th>
<th class="tableblock halign-left valign-top">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">login</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>user ID of the user</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">idProvider</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional ID provider containing the user. By default, all the id providers will be used.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-11-01 10:06:42 UTC
</div>
</div>
</body>
</html>