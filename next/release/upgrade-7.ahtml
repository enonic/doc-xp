<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.26">
<title>Upgrading</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock pre>code{display:block}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-right">
<div id="header">
<h1>Upgrading</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel2">
<li><a href="#non_cluster_upgrade">Non-cluster upgrade</a></li>
<li><a href="#rolling_cluster_upgrade">Rolling Cluster upgrade</a></li>
<li><a href="#full_restart_cluster_upgrade">Full restart Cluster upgrade</a></li>
<li><a href="#applications">Applications</a></li>
<li><a href="#v7_15_notes">v7.15 notes</a></li>
<li><a href="#v7_14_notes">v7.14 notes</a></li>
<li><a href="#v7_13_notes">v7.13 notes</a></li>
<li><a href="#v7_12_notes">v7.12 notes</a></li>
<li><a href="#v7_11_notes">v7.11 notes</a></li>
<li><a href="#v7_10_notes">v7.10 notes</a></li>
<li><a href="#v7_9_notes">v7.9 notes</a></li>
<li><a href="#v7_8_notes">v7.8 notes</a></li>
<li><a href="#v7_7_notes">v7.7 notes</a></li>
<li><a href="#v7_6_notes">v7.6 notes</a></li>
<li><a href="#v7_5_notes">v7.5 notes</a></li>
<li><a href="#v7_4_notes">v7.4 notes</a></li>
<li><a href="#v7_3_notes">v7.3 notes</a></li>
<li><a href="#v7_2_notes">v7.2 notes</a></li>
<li><a href="#v7_1_notes">v7.1 notes</a></li>
<li><a href="#upgrading_to_v7_0">Upgrading to v7.0</a>
<ul class="sectlevel2">
<li><a href="#requirements">Requirements</a></li>
<li><a href="#1_install_xp_7">1. Install XP 7</a></li>
<li><a href="#2_dump_data">2. Dump data</a></li>
<li><a href="#3_upgrade_and_load">3. Upgrade and Load</a></li>
<li><a href="#4_install_content_studio">4. Install Content studio</a></li>
<li><a href="#5_update_apps">5. Update apps</a></li>
<li><a href="#6_validate">6. Validate</a></li>
<li><a href="#7_go_live">7. Go live</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This procedure applies to feature (7.x.0) and fix upgrades (7.x.y, etc).</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="non_cluster_upgrade"><a class="link" href="#non_cluster_upgrade">Non-cluster upgrade</a></h3>
<div class="paragraph">
<p>Single node deployments cannot be performed without downtime. To upgrade a single instance deployment, follow the instructions below:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Stop your instance</p>
</li>
<li>
<p>Replace your XP7 runtime image with the new XP7 image</p>
</li>
<li>
<p>Start the instance.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="rolling_cluster_upgrade"><a class="link" href="#rolling_cluster_upgrade">Rolling Cluster upgrade</a></h3>
<div class="paragraph">
<p>All fix upgrades (i.e. from 7.4.1 to 7.4.8), and most feature upgrades (i.e. from 7.5.x to 7.6.x) support rolling upgrades - with zero downtime.</p>
</div>
<div class="paragraph">
<p>To safely perform a rolling upgrade, perform the following steps.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Before you perform a rolling upgrade, verify that all feature version in your upgrade path (from version &#8594; to version) support rolling upgrade
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Upgrade only one node at a time. Wait for the node to start and join the cluster before you move on</p>
</li>
<li>
<p>Stop, upgrade image and start your master nodes first (We always recommend using dedicated master nodes)</p>
</li>
<li>
<p>Stop, upgrade image and start data nodes</p>
</li>
<li>
<p>Stop, upgrade image and start remaining nodes</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="full_restart_cluster_upgrade"><a class="link" href="#full_restart_cluster_upgrade">Full restart Cluster upgrade</a></h3>
<div class="paragraph">
<p>Selected feature versions (i.e. when upgrading from 7.6.x to 7.7.x or 7.8.x) may require a full restart in order to guarantee no loss of
data and/or state. Releases that require full restart are marked with a special warning section below.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This strategy may safely be applied to upgrading any XP cluster and/or version
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Follow the steps below to complete a restart upgrade:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Stop all cluster nodes</p>
</li>
<li>
<p>Replace the xp runtime image with the new for all nodes</p>
</li>
<li>
<p>Start all nodes in parallel</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
It is important to start the nodes at the same time to avoid timeouts, should any upgrade scripts be supplied with the new version.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="applications"><a class="link" href="#applications">Applications</a></h3>
<div class="paragraph">
<p>When upgrading to new feature versions of Enonic XP, new versions of standard apps may also be available.</p>
</div>
<div class="paragraph">
<p>After upgrading XP, check for new versions of your installed applications from Enonic market.
We generally always recommend updating your apps to the latest version!</p>
</div>
</div>
<div class="sect1">
<h2 id="v7_15_notes"><a class="link" href="#v7_15_notes">v7.15 notes</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>The image service now generates progressive JPEG images by default. This can be changed back in <a href="../deployment/config.ahtml#image">../deployment/config.ahtml</a> by setting <code>progressiveJpeg</code> to empty string.</p>
</li>
<li>
<p>GZIP HTTP compression is disabled by default. It can be enabled in <a href="../deployment/config.ahtml#jetty">Jetty config</a>. By setting <code>gzip.enabled = true</code>.</p>
</li>
<li>
<p><code>image/webp</code> and <code>image/avif</code> media types will now produce content of <code>media:image</code> type, instead of <code>media:unknown</code>. Old versions of Content Studio might not work correctly with WebP and AVIF media types. Upgrade to the latest version of Content Studio.</p>
</li>
<li>
<p><a href="../deployment/config.ahtml#repo">Repo config</a> <code>cache.size</code> parameter no longer works. Use <code>cache.capacity</code> instead.</p>
</li>
<li>
<p>Vacuuming no longer clears unused blobs from deleted repositories. <a href="../deployment/backup-restore.ahtml#vacuum">Vacuuming</a> documentation has been updated to reflect this change.</p>
</li>
<li>
<p>Vacuuming now deletes old snapshots by default. <a href="../deployment/backup-restore.ahtml#vacuum">Vacuuming</a> documentation has been updated to reflect this change.</p>
</li>
<li>
<p>Vacuuming that affects blobs will delete snapshots once completed. <a href="../deployment/backup-restore.ahtml#vacuum">Vacuuming</a> documentation has been updated to reflect this change.</p>
</li>
<li>
<p>Previously HTTP controllers did not support <code>patch</code> methods by responding <code>405 Method Not Allowed</code>. Now <code>patch</code> methods are supported, so <code>all</code> controller handles <code>patch</code> method, too.</p>
</li>
<li>
<p>Portal Page resolution now happens before Site mapping controllers get executed. This changes what portal.getContent() and <code>portal.getComponent()</code> return when called from Site mapping controllers.</p>
</li>
<li>
<p><code>/admin</code> paths now specify <code>Cache-Control</code> header <code>private</code> - by default CDNs no longer cache admin URLs.</p>
</li>
<li>
<p>Management port returns <code>403</code> status code when no authentication is provided. Before <code>401</code> was returned.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="v7_14_notes"><a class="link" href="#v7_14_notes">v7.14 notes</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Content Project root no longer returns 403. It now returns 404 instead. This may affect your availability if it relies on 403 status code.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="v7_13_notes"><a class="link" href="#v7_13_notes">v7.13 notes</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Content Studio has to be upgraded to version 5+ to be compatible with XP 7.13. If you are using Content Studio 4.x with XP 7.13, you may experience disappearing layouts inside Page Editor.</p>
</li>
<li>
<p>Bundled JVM was upgraded to version 17. Our internal testing didn&#8217;t show any significant issues with this upgrade (except Nashorn engine removal), but we recommend testing your applications before upgrading to this version as always. Consult with <a href="https://docs.oracle.com/en/java/javase/17/migrate/getting-started.html">JDK Migration Guide</a> for more information about migrating from JDK 11 to JDK 17 in case you experience any issues.</p>
</li>
<li>
<p>When building applications it is recommended to specify <code>options.release = 11</code> for <code>compileJava</code> task <a href="https://docs.gradle.org/current/userguide/building_java_projects.html#sec:compiling_with_release">in Gradle build file</a> to preserve compatibility with XP versions lower than 7.13.
XP Gradle plugin <code>com.enonic.xp.app</code> version <code>3.4.0</code> does this automatically for you when <code>systemVersion</code> is set to <code>7.12.x</code> or lower.</p>
</li>
<li>
<p>Ensure you are using the latest version of the Test Framework <code>com.enonic.xp:testing</code> in your Gradle project. For example, if your Test Framework dependency is defined as <code>testImplementation "com.enonic.xp:testing:${xpVersion}"</code> you might need to change it to <code>testImplementation "com.enonic.xp:testing:7.13.0"</code>. Older versions may not work with JDK 17 and will cause tests to fail with <code>java.lang.NoClassDefFoundError: jdk/nashorn/api/scripting/NashornScriptEngineFactory</code>.</p>
</li>
<li>
<p>Usage of JDK 11 Nashorn engine is now deprecated and will be removed in future XP versions. Currently warning is issued for each usage: <code>Class x.y.Z uses unsupported jdk.nashorn. Application may stop working in future XP versions.</code> Applications must not use Nashorn engine directly, but instead use XP&#8217;s Javascript API.</p>
</li>
<li>
<p><code>base:media</code> content type is now abstract - it can no longer be created directly. It was documented as abstract, but was not enforced in previous versions.</p>
</li>
<li>
<p>Content API no longer reads Page/Layout descriptors to determine regions for every fetched content.
Regions are built from <code>components</code> array in content data. This changes the behaviour for regions with no component assigned.
Rendering engine is now responsible for reconstructing unused regions from Page/Layout descriptors.</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
In <code>7.13.1</code> you can bring back the old deprecated behaviour making Content API inject empty regions by setting <code>resolveEmptyRegions</code> parameter to <code>true</code> in the <a href="../deployment/config.ahtml#content_config">content config</a>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Server Distro Mac ARM64 bundles GraalVM 22.3.1 JDK 17 due to lack of GraalVM 22.3.2 image for Mac ARM64. Other distros are based on GraalVM 22.3.2 JDK 17</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="v7_12_notes"><a class="link" href="#v7_12_notes">v7.12 notes</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>You need to reconfigure all Project level applications configured before version 7.12, if you have any. This is not a breaking change, as this feature was not announced in 7.11 and was not officially supported until 7.12.</p>
</li>
<li>
<p>Content API is now enforced to support only <code>draft</code> and <code>master</code> branches. Node API continues to support custom branches.</p>
</li>
<li>
<p>Content API does not allow to create/modify/delete content directly on <code>master</code> branch or to publish to any other branch than <code>master</code>.</p>
</li>
<li>
<p>Content <code>PENDING_DELETE</code> state is no longer in use. Content deletion no longer happens during unpublishing. Instead, content deletion forces content to be unpublished immediately.</p>
</li>
<li>
<p>Node state has been deprecated and is no longer in use, as it was only used for content&#8217;s <code>PENDING_DELETE</code> status.</p>
</li>
<li>
<p>Content API audit-log no longer logs <code>system.content.update</code> events by default. This can be changed back by setting <code>auditlog.filter = *</code> in <a href="../deployment/config.ahtml#content_config">content config</a>.</p>
</li>
<li>
<p><code>draft</code> branch is now restricted for unauthenticated access. By default, only <code>system.admin.login</code> role has access. Additional principles can be configured in <a href="../deployment/config.ahtml#portal">portal config</a> via <code>draftBranchAllowedFor</code> setting. Note that <code>system.admin</code> role always has access, regardless of the config.</p>
</li>
<li>
<p>Bundled GraalVM has been updated to version 22.3.1. Other JVM versions are not supported, although they may also work.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="v7_11_notes"><a class="link" href="#v7_11_notes">v7.11 notes</a></h2>
<div class="sectionbody">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
FULL RESTART REQUIRED - For security reasons, XP&#8217;s clustering engine (Hazelcast) has been updated in this release.
A full restart is required in order to prevent loss of data or state.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Virtual application schemas may now override schema present in any installed (real) application.
To prevent virtual applications from overriding schemas use <a href="../deployment/config.ahtml#application">application config</a> <code>virtual.schema.override = false</code>
or disable virtual applications completely <code>virtual.enabled = false</code></p>
</li>
<li>
<p>OSGi Compendium r8 is now provided as API dependency for Java Core API. (Component, Component Annotations and CM only)
This may cause some compilation errors when XP application dependency version is bumped, but should not affect existing applications in runtime.</p>
</li>
<li>
<p>Default HTML now sets <code>utf-8</code> charset encoding, if controller haven&#8217;t specified charset in Content-Type
This may cause broken text on pages with page templates which specify content meta tag value other than <code>utf-8</code>.
Make sure all your page templates use UTF-8. it is also recommended to use <code>&lt;meta charset="utf-8"&gt;</code> tag on all pages.</p>
</li>
<li>
<p>TypeScript imports. As of this version, all Enonic libraries are completely rewritten in TypeScript. If you have been using TypesScript in your application, it may no longer be compiling. Importing <code>default</code> exports are no longer supported, and depending on your build-setup and code, you may need to change your import statements.
For example:</p>
<div class="listingblock">
<div class="title">Old approach</div>
<div class="content">
<pre class="highlight"><code class="language-Javascript" data-lang="Javascript">import nodeLib from '/lib/xp/node';</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">New approach</div>
<div class="content">
<pre class="highlight"><code class="language-Javascript" data-lang="Javascript">import * as nodeLib from '/lib/xp/node';</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="v7_10_notes"><a class="link" href="#v7_10_notes">v7.10 notes</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>XP now bundles the GraalVM based JDK.
We do not support running XP on other JDK except for the one bundled in the distro.
Note that the default JavaScript Engine is still Nashorn.</p>
</li>
<li>
<p>Experimental support of arm64 (aarch64) based CPUs is added.
You may see a WARNING message on XP startup <code>java.lang.UnsatisfiedLinkError: Canâ€™t load library &#8230;&#8203;</code>. It does not affect XP operations and can be ignored.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="v7_9_notes"><a class="link" href="#v7_9_notes">v7.9 notes</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="../deployment/config.ahtml#portal">Portal config</a> now specifies default <code>Content-Security-Policy</code> for attachments and images.
It is possible to configure the header via <code>media.contentSecurityPolicy</code> and <code>media.contentSecurityPolicy.svg</code> values. Empty value disables <code>Content-Security-Policy</code> for attachments and images.
Default value is crafted to prevent common Persistent XSS attacks.</p>
</li>
<li>
<p><a href="../deployment/config.ahtml#admin">Admin config</a> now specifies default Content-Security-Policy for page <code>preview</code> and <code>inline</code> mode (used by Content Studio).
It is possible to configure the header via <code>site.preview.contentSecurityPolicy</code> value or go back to previous behavior by setting <code>site.preview.contentSecurityPolicy</code> to an empty value.
Default value is crafted to prevent common Persistent XSS attacks in Content Studio.</p>
</li>
<li>
<p>Certain Security headers are now specified in <a href="../deployment/config.ahtml#header_filter">header filter config</a> by default.
Default value is crafted to prevent Clickjacking attacks. It may prevent some pages to work properly if they, for instance, require to be loaded from an IFrame.
You can customize default headers in <a href="../deployment/config.ahtml#header_filter">header filter config</a> <code>headerConfig</code> value to get back to previous behaviour.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="v7_8_notes"><a class="link" href="#v7_8_notes">v7.8 notes</a></h2>
<div class="sectionbody">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
FULL RESTART REQUIRED - A new feature for archiving content has been implemented in this release.
A full restart is required in order for XP to create and correctly access the <code>/archive</code> node.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Versions of Content Studio before 4.0.0 will not run on XP 7.8.0 or later.</p>
</li>
<li>
<p><code>params</code> returned from HTTP Filter now replace original request params with the same names. There is no way to restore previous behavior.</p>
</li>
<li>
<p>Internal Admin Rest API was moved to respective applications. Any use of <code>/admin/rest/*</code> endpoints was for internal use only.
It was never documented or supported for external use. We recommend implementing your own application with GraphQL/REST api as an alternative.</p>
</li>
<li>
<p><code>contentTypePatternMode</code> configuration parameter has been moved to Content Studio configuration.</p>
</li>
<li>
<p>JaxRS API backend was updated to the next major release. We didn&#8217;t observe any incompatibilities, but if your application uses XP JaxRS API make sure you thoroughly test it.</p>
</li>
<li>
<p>Image Service now has memory usage constraints  configured by <code>memoryLimit</code> parameter in <a href="../deployment/config.ahtml#image">Configuration Files / Image</a>.
This may cause <code>429 Too Many Requests</code> HTTP responses for images, if they are not yet scaled at least once and put into disk cache.</p>
</li>
<li>
<p>XP 7.8 fixed a bug when <code>lib-portal.getContent()</code> would return a non-empty value in a context where no content should be returned, for example
inside a responseProcessor or a service. If you didn&#8217;t have a proper check for non-empty content object returned by <code>lib-portal.getContent()</code>, you will have to fix your code.
Please find an example of the fix below:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Before</div>
<div class="content">
<pre class="highlight"><code class="language-Javascript" data-lang="Javascript">exports.responseProcessor = function (req, res) {
    const content = portalLib.getContent(); // This now returns null
    let contentId = req.params.contentId;
    if (!contentId) {
        contentId = content._id; // This will be not null only inside a widget
    }
    const siteConfig = contentLib.getSiteConfig({
        key: contentId, // This code assumes contentId is never null
        applicationKey: app.name
    });
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">After</div>
<div class="content">
<pre class="highlight"><code class="language-Javascript" data-lang="Javascript">exports.responseProcessor = function (req, res) {
    const siteConfig = portalLib.getSiteConfig();
    if (!siteConfig) {
        return res;
    }
    let contentId = req.params.contentId;
    if (!contentId) {
        const content = portalLib.getContent();
        if (content) {
            contentId = content._id;
        }
    }
    if (!contentId) {
        return res;
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
If you are using <a href="https://market.enonic.com/vendors/enonic/siteimprove">Siteimprove</a>,
<a href="https://market.enonic.com/vendors/enonic/google-analytics">Google Analytics</a>
or <a href="https://market.enonic.com/vendors/enonic/com.enonic.app.metafields">SEO Meta Fields</a> applications, we recommend upgrading them to the latest
versions (where this bug has been mitigated) before upgrading to XP 7.8.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="v7_7_notes"><a class="link" href="#v7_7_notes">v7.7 notes</a></h2>
<div class="sectionbody">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
FULL RESTART REQUIRED - For security reasons, XP&#8217;s clustering engine (Hazelcast) has been updated in this release. A full restart is required in order to prevent loss of data or state.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Session cookie specifies <code>SameSite=Lax</code> by default. It is similar to modern browsers default value except for "Lax + POST mitigation".
You can revert to previous behavior by setting <code>session.cookieSameSite =</code> in <a href="../deployment/config.ahtml#jetty">Configuration Files / Jetty</a></p>
</li>
<li>
<p>Native Java primitive arrays are now converted to JavaScript arrays. You may have to adapt your application to the new behaviour if your code was using workarounds.</p>
</li>
<li>
<p>Image Service now limits maximum image size and number of filters applied. You can configure thresholds in <a href="../deployment/config.ahtml#image">Configuration Files / Image</a></p>
</li>
<li>
<p>Image Service has more eager validation of scale, filters, background and quality parameter values. Make sure the requests to Image Service use only correct/supported values.</p>
</li>
<li>
<p>Built-in Embed Macro now requires body part to be HTML escaped. In general, it should not cause issues because ContentStudio HTML editor always escapes macro body.</p>
</li>
<li>
<p>Content attachment file names can no longer contain suspicious characters.
You can revert to previous behavior by setting <code>attachments.allowUnsafeNames = true</code> in <a href="../deployment/config.ahtml#content">Configuration Files / Content</a></p>
</li>
<li>
<p>Assets Service URL fingerprint part now uses application&#8217;s "build time" instead of application&#8217;s startup time. Make sure "build time" always changes for new versions of an application (this happens automatically if you use the standard xp build system)</p>
</li>
<li>
<p>Default Cache-Control headers for Assets Service and Portal Media Attachments have been changed.
You can change default settings in <a href="../deployment/config.ahtml#portal">Configuration Files / Portal</a></p>
</li>
<li>
<p>ResourceService no longer considers directories in jar as existing resources.
If application code relies on checking directory existence in jar, consider checking existence of a file inside that directory instead.</p>
</li>
<li>
<p>Content integrity is verified during move operation, as it was done on create for <code>page-template</code>, <code>template-folder</code> and <code>site</code> built-in content types.</p>
</li>
<li>
<p><code>page-template</code> content now accepts child content, but only <code>fragment</code> and <code>media:*</code>. Attachments are no longer redirected to the nearest template&#8217;s site.</p>
</li>
<li>
<p>input-type&#8217;s <code>allow-content-type</code>, x-data <code>allow-content-types</code> and newest content-type&#8217;s <code>allow-child-content-type</code> share the same <a href="../cms/schemas/input-types/contentselector/.ahtml#allowContentType">pattern matching</a>, that is stricter than before.
You can switch back to legacy mode by setting <code>contentTypePatternMode = LEGACY</code> in  <a href="../deployment/config.ahtml#admin_rest">Configuration Files / Admin</a> for <code>allow-content-type</code> and <code>allow-content-types</code>, but it won&#8217;t affect <code>allow-child-content-type</code> pattern matching.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="v7_6_notes"><a class="link" href="#v7_6_notes">v7.6 notes</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Named tasks do not necessarily execute on the node they were submitted on anymore. Instead, a random node capable to run a task is selected and task gets executed there. Make sure your named tasks do not require a specific node to be run on. Follow the <a href="../framework/tasks.ahtml#_distributable">Tasks / Distributable</a> for more information.</p>
</li>
<li>
<p>XP does not proxy market.enonic.com requests anymore, meaning that browser should have access to <a href="https://market.enonic.com" class="bare">https://market.enonic.com</a>. URL can be changed in <a href="../deployment/config.ahtml#market">Configuration Files / Market</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="v7_5_notes"><a class="link" href="#v7_5_notes">v7.5 notes</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>v7.5 is backward compatible with earlier versions</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="v7_4_notes"><a class="link" href="#v7_4_notes">v7.4 notes</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>v7.4 is backward compatible with earlier versions, but if you run XP on a cluster, several configurations need to change for the
nodes to get in touch with each other after the upgrade.  Please do the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create the configuration files <code>com.enonic.xp.hazelcast.cfg</code> and <code>com.enonic.xp.web.sessionstore.cfg</code> and consider the values in them as described in
<a href="../deployment/config.ahtml#hazelcast">Configuration Files / Hazelcast</a> and <a href="../deployment/config.ahtml#sessionstore">Configuration Files / SessionStore</a>.</p>
</li>
<li>
<p>Open port 5701 between the nodes in the network.  This port is used by Hazelcast for internal communication in the cluster.
An alternate port may be chosen by setting <code>network.port</code>.  If using Docker, the port needs to be opened both in the network and in
the <code>docker-compose.yml</code> container definition.</p>
</li>
<li>
<p>Evaluate the minimum required number of nodes in a cluster.  <code>system.hazelcast.initial.min.cluster.size</code> is by default set to 2.
During start-up, events, tasks and sessions will not be communicated between nodes in the cluster until the minimum number of nodes have signed in.
For large clusters, this is an important setting.  We recommend setting it to nodes/2 + 1, so for instance, in a cluster of six nodes, the value should be 4.</p>
</li>
<li>
<p>Distributed Sessions are off by default.  Enable them by setting <code>storeMode</code> to <code>replicated</code> in the sessionStore config, if desired.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="v7_3_notes"><a class="link" href="#v7_3_notes">v7.3 notes</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>v7.3 is backward compatible with earlier versions, but includes fixes that may affect your existing deployments.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Changed GIF handling</dt>
<dd>
<p>The image service has been partly broken when processing GIF files. As of 7.3, GIFs are always returned as original files (unprocessed, similar to how SVGs are handled). This means GIFs will no longer be cropped, and always work as expected if they contain animations/videos. Animated GIFs are the most common usage of GIF files today.</p>
</dd>
<dt class="hdlist1">Ignite removed</dt>
<dd>
<p>Ignite (grid memory component) has been part of the XP core for testing purposes, disabled by default. It has now been removed from the XP core. Unless you have enabled Ignite for testing purposes, this will not affect your deployment. Also, all Ignite configuration files and options can now safely be removed.</p>
</dd>
<dt class="hdlist1">Content projects</dt>
<dd>
<p>XP 7.3 introduces the ability to create isolated content repositories. If you have many sites in your current deployment, consider moving your sites into separate projects.</p>
</dd>
<dt class="hdlist1">New docker image</dt>
<dd>
<p>A new, improved and properly documented version of our <a href="../deployment/docker.ahtml">XP7 Docker image</a> is now available. The documentation also describes how to upgrade from the old image.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="v7_2_notes"><a class="link" href="#v7_2_notes">v7.2 notes</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>v7.2 is fully backward compatible with v7.1 and v7.0.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This version includes new "Audit logger" feature that requires a new repository. The repository will be created automatically during the upgrade process.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="v7_1_notes"><a class="link" href="#v7_1_notes">v7.1 notes</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>v7.1 is fully backward compatible with v7.0.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="upgrading_to_v7_0"><a class="link" href="#upgrading_to_v7_0">Upgrading to v7.0</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="requirements"><a class="link" href="#requirements">Requirements</a></h3>
<div class="paragraph">
<p>This guide focuses on completing an upgrade with zero downtime, and requires you to set up production environment on XP7 in parallel with existing 6.15 environment.
Carefully follow the below steps to upgrade your instance:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For scenarios where downtime cannot be avoided, additional steps, such as setting up a temporary "we are upgrading page", will be required:
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Before starting the upgrade process, ensure the following requirements are in place</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">XP Version</dt>
<dd>
<p>You need to be running at least Enonic XP 6.15.x (if you are running an older version, upgrade to 6.15.x first)</p>
</dd>
<dt class="hdlist1">QA environment</dt>
<dd>
<p>Ensure you have a QA environment where you can perform a test upgrade first (highly recommended)</p>
</dd>
<dt class="hdlist1">Toolbox</dt>
<dd>
<p>Ensure you have 6.15 Toolbox available</p>
</dd>
<dt class="hdlist1">Enonic CLI</dt>
<dd>
<p>Make sure you have <a href="https://developer.enonic.com/docs/enonic-cli">Enonic CLI</a> installed</p>
</dd>
<dt class="hdlist1">Disk space</dt>
<dd>
<p>Verify you have enough disk space to facilitate a complete dump of all existing data</p>
</dd>
<dt class="hdlist1">3rd party apps</dt>
<dd>
<p>Verify that all (if any) 3rd party applications in use are upgraded to support XP 7.</p>
</dd>
<dt class="hdlist1">Custom apps</dt>
<dd>
<p>Make sure all custom built applications have been upgraded to support XP 7, as described in <a href="apps-upgrade.ahtml">Upgrading Applications</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="1_install_xp_7"><a class="link" href="#1_install_xp_7">1. Install XP 7</a></h3>
<div class="paragraph">
<p>We recommend setting up a new production environment for XP 7, running in parallel with your XP 6 environment.
This will virtually eliminate downtime, and also be a safety net, should the upgrade fail somehow.</p>
</div>
<div class="paragraph">
<p>Follow the <a href="../deployment/distro.ahtml#XP_INSTALL">XP installation instructions</a> to set up an instance matching your requirements</p>
</div>
<div class="sect3">
<h4 id="file_deployments"><a class="link" href="#file_deployments">File deployments</a></h4>
<div class="paragraph">
<p>If you have one or more applications deployed as files, replace them with their respective XP 7 versions</p>
</div>
</div>
<div class="sect3">
<h4 id="vhost_config"><a class="link" href="#vhost_config">Vhost config</a></h4>
<div class="paragraph">
<p>Vhost configuration has changed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/app</code> has been renamed to <code>/webapp</code></p>
</li>
<li>
<p><code>/portal</code> has been renamed to <code>/site</code></p>
</li>
<li>
<p>Repository name is added before the branch in site URL, ie <code>/site/default/draft</code></p>
</li>
<li>
<p><code>userStore</code> has been renamed to <code>idProvider</code></p>
</li>
<li>
<p>idProvider config format is new</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Update your vhost config file as follows:</p>
</div>
<div class="listingblock">
<div class="title">Before</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">mapping.intranet.host = example.com
mapping.intranet.source = /
mapping.intranet.target = /portal/master/mysite
mapping.intranet.userStore = myProvider

mapping.myapp.host = myapp.example.com
mapping.myapp.source = /
mapping.myapp.target = /app/com.example.myapp
mapping.myapp.userStore = system</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">After</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">mapping.intranet.host = example.com
mapping.intranet.source = /
mapping.intranet.target = /site/default/master/mysite
mapping.intranet.idProvider.myProvider = default

mapping.myapp.host = myapp.example.com
mapping.myapp.source = /
mapping.myapp.target = /webapp/com.example.myapp
mapping.admin.idProvider.system = default</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="port_mappings"><a class="link" href="#port_mappings">Port mappings</a></h4>
<div class="paragraph">
<p>In XP 7 <code>/status</code> and <code>/api</code> have been moved to separate dedicated ports: 2609 and 4848 respectively.</p>
</div>
<div class="paragraph">
<p>Consider how this affects your monitoring and how to expose management API internally.</p>
</div>
<div class="paragraph">
<p>In <code>com.enonic.xp.web.jetty.cfg</code> <code>http.port</code> is replaced with <code>http.xp.port</code>, <code>http.management.port</code> and <code>http.monitor.port</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="elastic_search_discovery"><a class="link" href="#elastic_search_discovery">Elastic Search discovery</a></h4>
<div class="paragraph">
<p>If specifying <code>discovery.unicast.sockets</code> in ES configuration: "ip[port]" is now "ip:port"</p>
</div>
<div class="listingblock">
<div class="title">com.enonic.xp.elasticsearch.cfg</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">#Old:
discovery.unicast.sockets = 10.0.0.1[9300]

#New:
discovery.unicast.sockets = 10.0.0.1:9300</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="other_configuration"><a class="link" href="#other_configuration">Other configuration</a></h4>
<div class="paragraph">
<p>Migrate other configuration files from 6.15, including custom configurations (app config etc.).</p>
</div>
</div>
<div class="sect3">
<h4 id="start_servers"><a class="link" href="#start_servers">Start servers</a></h4>
<div class="paragraph">
<p>Start your new servers and verify everything is working properly</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="2_dump_data"><a class="link" href="#2_dump_data">2. Dump data</a></h3>
<div class="paragraph">
<p>We are now ready to dump data from our existing 6.15 instance.  Do with the 6.15 toolbox:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>toolbox.sh dump -t mydump -a user:password --skip-versions</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">NOTE</dt>
<dd>
<p>We highly recommend dumping data without versions. This will dramatically speed up the upgrade while also preparing your dataset for the new vacuuming features in XP 7.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="3_upgrade_and_load"><a class="link" href="#3_upgrade_and_load">3. Upgrade and Load</a></h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Move dump</dt>
<dd>
<p>Transfer dump files from previous step to the new instance. For clustered environments, any server will do.</p>
</dd>
<dt class="hdlist1">NOTE</dt>
<dd>
<p>Toolbox has been removed from XP 7 and replaced by Enonic CLI.</p>
</dd>
<dt class="hdlist1">Upgrade dump</dt>
<dd>
<p>Before we can load the dump, we need to upgrade the data to support XP 7:</p>
<div class="literalblock">
<div class="content">
<pre>enonic dump upgrade</pre>
</div>
</div>
</dd>
<dt class="hdlist1">Load dump</dt>
<dd>
<p>Now, load the dump into your XP 7 environment i.e.</p>
<div class="literalblock">
<div class="content">
<pre>enonic dump load</pre>
</div>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Don&#8217;t worry about the command losing connection, this is only related to the system repo (and user) being removed during the operation. Watch the log for progress.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="4_install_content_studio"><a class="link" href="#4_install_content_studio">4. Install Content studio</a></h3>
<div class="paragraph">
<p>Content Studio is no longer part of the XP core distribution.
Content Studio is now available as an <a href="https://market.enonic.com/vendors/enonic/content-studio">application on Enonic Market</a>.
Documentation for Content Studio can be found <a href="https://developer.enonic.com/docs/content-studio">here</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="5_update_apps"><a class="link" href="#5_update_apps">5. Update apps</a></h3>
<div class="paragraph">
<p>All installed applications must be updated to latest versions compatible with XP 7.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Market apps</dt>
<dd>
<p>For market apps, go to the Applications tool, click "Install" in the menu and click "Upgrade" button for all applications where upgrade is available.</p>
</dd>
<dt class="hdlist1">Custom apps</dt>
<dd>
<p>Install XP 7 compatible versions of your custom applications either through the "Install App" UI or by using CLI.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="6_validate"><a class="link" href="#6_validate">6. Validate</a></h3>
<div class="paragraph">
<p>Validate that your new installation is working as expected. We recommend checking logs, and performing live tests on services.</p>
</div>
</div>
<div class="sect2">
<h3 id="7_go_live"><a class="link" href="#7_go_live">7. Go live</a></h3>
<div class="paragraph">
<p>With all lights green, simply redirect all traffic from your old XP 6 servers to the upgraded XP 7 environment.</p>
</div>
<div class="paragraph">
<p>Welcome to the XP 7 club!</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-12-28 17:38:35 UTC
</div>
</div>
</body>
</html>