<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<title>Release Notes</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-right">
<div id="header">
<h1>Release Notes</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#xp8">XP8</a>
<ul class="sectlevel2">
<li><a href="#tech_stack">Tech Stack</a></li>
<li><a href="#api">API</a></li>
<li><a href="#widget_api">Widget API</a></li>
<li><a href="#permissions">Permissions</a></li>
<li><a href="#node_patch">Node Patch</a></li>
<li><a href="#virtual_host_context">Virtual Host Context</a></li>
<li><a href="#other">Other</a></li>
</ul>
</li>
<li><a href="#xp7_update_15">XP7 Update 15</a>
<ul class="sectlevel2">
<li><a href="#service_accounts">Service Accounts</a></li>
<li><a href="#progressive_image_delivery">Progressive image delivery</a></li>
<li><a href="#basic_webp_and_avif_support">Basic WebP and AVIF support</a></li>
<li><a href="#typescript">TypeScript</a></li>
<li><a href="#other_changes">Other changes</a></li>
<li><a href="#deprecated_asset_service">Deprecated asset service</a></li>
</ul>
</li>
<li><a href="#xp7_update_14">XP7 Update 14</a>
<ul class="sectlevel2">
<li><a href="#sdk">SDK</a></li>
</ul>
</li>
<li><a href="#xp7_update_13">XP7 Update 13</a>
<ul class="sectlevel2">
<li><a href="#graalvm_for_jdk_17">GraalVM for JDK 17</a></li>
<li><a href="#management_api">Management API</a></li>
<li><a href="#statistics_api">Statistics API</a></li>
<li><a href="#task_api">Task API</a></li>
<li><a href="#sdk_2">SDK</a></li>
<li><a href="#other_changes_2">Other Changes</a></li>
</ul>
</li>
<li><a href="#xp7_update_12">XP7 Update 12</a>
<ul class="sectlevel2">
<li><a href="#dashboard_widgets">Dashboard Widgets</a></li>
<li><a href="#content_variants">Content Variants</a></li>
<li><a href="#site_mapping_for_services">Site mapping for services</a></li>
<li><a href="#add_apps_to_projects">Add apps to projects</a></li>
<li><a href="#other_changes_3">Other changes</a></li>
</ul>
</li>
<li><a href="#xp7_update_11">XP7 Update 11</a>
<ul class="sectlevel2">
<li><a href="#typescript_core_libraries">TypeScript Core libraries</a></li>
<li><a href="#virtual_applications_and_no_code_schema">Virtual Applications and No-code Schema</a></li>
<li><a href="#query_dsl_improvements">Query DSL improvements</a></li>
<li><a href="#other_improvements">Other improvements</a></li>
</ul>
</li>
<li><a href="#xp7_update_10">XP7 Update 10</a>
<ul class="sectlevel2">
<li><a href="#shared_map">Shared Map</a></li>
<li><a href="#other_improvements_2">Other improvements</a></li>
</ul>
</li>
<li><a href="#xp7_update_9">XP7 Update 9</a>
<ul class="sectlevel2">
<li><a href="#query_dsl">Query DSL</a></li>
<li><a href="#applications_and_security_audit_log">Applications and Security Audit Log</a></li>
<li><a href="#content_security_policy">Content-Security-Policy</a></li>
<li><a href="#default_security_headers">Default security headers</a></li>
<li><a href="#other_improvements_3">Other improvements</a></li>
</ul>
</li>
<li><a href="#xp7_update_8">XP7 Update 8</a>
<ul class="sectlevel2">
<li><a href="#libraries">Libraries</a></li>
<li><a href="#custom_content_validators">Custom content validators</a></li>
<li><a href="#other_improvements_4">Other improvements</a></li>
</ul>
</li>
<li><a href="#xp7_update_7">XP7 Update 7</a>
<ul class="sectlevel2">
<li><a href="#scheduler">Scheduler</a></li>
<li><a href="#audit_log_cleanup">Audit-log cleanup</a></li>
<li><a href="#samesite_cookies">SameSite cookies</a></li>
<li><a href="#content_type_filtering">Content-type filtering</a></li>
<li><a href="#other_improvements_5">Other improvements</a></li>
</ul>
</li>
<li><a href="#xp7_update_6">XP7 Update 6</a>
<ul class="sectlevel2">
<li><a href="#content_layers">Content Layers</a></li>
<li><a href="#vhost_api">VHost API</a></li>
<li><a href="#management_api_for_applications">Management API for applications</a></li>
<li><a href="#distributable_tasks">Distributable tasks</a></li>
<li><a href="#websocket_api_extensions">Websocket API extensions</a></li>
<li><a href="#other_improvements_6">Other improvements</a></li>
</ul>
</li>
<li><a href="#xp7_update_5">XP7 Update 5</a>
<ul class="sectlevel2">
<li><a href="#snapshot_restore_latest_option">Snapshot Restore <code>latest</code> option</a></li>
<li><a href="#meta_data_in_contentlib_query_results">Meta-data in contentLib query results</a></li>
<li><a href="#calculated_distance_in_geodistance_aggregation">Calculated distance in geoDistance aggregation</a></li>
<li><a href="#other_improvements_7">Other improvements</a></li>
</ul>
</li>
<li><a href="#xp7_update_4">XP7 Update 4</a>
<ul class="sectlevel2">
<li><a href="#other_improvements_8">Other improvements</a></li>
</ul>
</li>
<li><a href="#xp7_update_3">XP7 Update 3</a>
<ul class="sectlevel2">
<li><a href="#content_projects">Content projects</a></li>
<li><a href="#compressed_dump_and_load">Compressed dump and load</a></li>
<li><a href="#login_without_sessions">Login without sessions</a></li>
<li><a href="#selected_improvements">Selected improvements</a></li>
</ul>
</li>
<li><a href="#xp7_update_2">XP7 Update 2</a>
<ul class="sectlevel2">
<li><a href="#audit_log">Audit Log</a></li>
<li><a href="#content_api_audit_log">Content API - Audit Log</a></li>
<li><a href="#node_library_get_node_by_version">Node library - Get node by version</a></li>
<li><a href="#custom_part_icons">Custom part icons</a></li>
<li><a href="#header_filter">Header filter</a></li>
</ul>
</li>
<li><a href="#xp7_update_1">XP7 Update 1</a>
<ul class="sectlevel2">
<li><a href="#query_highlighting">Query highlighting</a></li>
<li><a href="#content_workflow">Content Workflow</a></li>
<li><a href="#customizable_display_name_label">Customizable display name label</a></li>
<li><a href="#publishing_message">Publishing message</a></li>
<li><a href="#selected_improvements_2">Selected improvements</a></li>
</ul>
</li>
<li><a href="#xp7">XP7</a>
<ul class="sectlevel2">
<li><a href="#developer_portal">Developer portal</a></li>
<li><a href="#enonic_cli">Enonic CLI</a></li>
<li><a href="#native_distributions">Native distributions</a></li>
<li><a href="#content_studio_is_an_app">Content Studio is an app</a></li>
<li><a href="#cms">CMS</a></li>
<li><a href="#xp_storage">XP Storage</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="xp8"><a class="link" href="#xp8">XP8</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="tech_stack"><a class="link" href="#tech_stack">Tech Stack</a></h3>
<div class="ulist">
<ul>
<li>
<p>Java 21</p>
</li>
<li>
<p>Jetty 12</p>
</li>
<li>
<p>Hazelcast 5</p>
</li>
<li>
<p>Prometheus metrics</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="api"><a class="link" href="#api">API</a></h3>
<div class="ulist">
<ul>
<li>
<p><a href="runtime/engines/api-engine.ahtml">Universal API</a></p>
</li>
<li>
<p><a href="api/lib-portal.ahtml">apiUrl</a> method</p>
</li>
<li>
<p><a href="api/lib-portal.ahtml">basUrl</a> method and parameters</p>
</li>
<li>
<p>Content <code>baseUrl</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="widget_api"><a class="link" href="#widget_api">Widget API</a></h3>
<div class="ulist">
<ul>
<li>
<p><a href="admin/widgets.ahtml">Widget API</a> replaces the old Admin Widgets</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="permissions"><a class="link" href="#permissions">Permissions</a></h3>
<div class="ulist">
<ul>
<li>
<p>no more <code>inheritsPermissions</code> flag on Node</p>
</li>
<li>
<p>content permissions applied on <code>master</code> and <code>draft</code></p>
</li>
<li>
<p>node permissions can be applied on multiple branches simultaneously</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="node_patch"><a class="link" href="#node_patch">Node Patch</a></h3>
<div class="ulist">
<ul>
<li>
<p><code>patch</code> method in Node API - allows to apply changes in node in multiple branches</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="virtual_host_context"><a class="link" href="#virtual_host_context">Virtual Host Context</a></h3>
<div class="paragraph">
<p>Default context values provided via <a href="deployment/vhosts.ahtml#virtual-host-context">vhost config files</a></p>
</div>
</div>
<div class="sect2">
<h3 id="other"><a class="link" href="#other">Other</a></h3>
<div class="ulist">
<ul>
<li>
<p>New admin home page <a href="http://&lt;host&gt;:8080/admin" class="bare">http://&lt;host&gt;:8080/admin</a></p>
</li>
<li>
<p><code>request.locale</code> in <a href="framework/http.ahtml#http-request">Request</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xp7_update_15"><a class="link" href="#xp7_update_15">XP7 Update 15</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This release includes a selection of new features, as well as several smaller improvements, bugfixes and stability improvements.</p>
</div>
<div class="sect2">
<h3 id="service_accounts"><a class="link" href="#service_accounts">Service Accounts</a></h3>
<div class="paragraph">
<p>Say goodbye to passwords. The built-in <a href="iam.ahtml">System ID provider</a> has been upgraded to support use of JWT tokens.
Users created in the System ID provider are now referred to as <a href="iam/system-idp.ahtml#service-accounts">Service Accounts</a>.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="release/images/715-users-public-key.png" alt="Upload or generate keys" width="1077"></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Upload a public key, or generate a key pair directly on the service account</p>
</li>
<li>
<p>Use JWT token-based authentication when accessing XP programmatically or via the latest Enonic CLI</p>
</li>
<li>
<p>The <a href="runtime/management.ahtml#management_endpoint">Management Endpoint</a> now also supports token-base auth.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you are using automated app deployments we recommend switching to token based authentication.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="progressive_image_delivery"><a class="link" href="#progressive_image_delivery">Progressive image delivery</a></h3>
<div class="paragraph">
<p>The image service now supports progressive image formats. This means images are loaded in multiple passes, rather than serially - which may improve perceived performance.</p>
</div>
<div class="paragraph">
<p>Enable progressive images via the <a href="deployment/config.ahtml#image">Image config</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="basic_webp_and_avif_support"><a class="link" href="#basic_webp_and_avif_support">Basic WebP and AVIF support</a></h3>
<div class="paragraph">
<p>Images in WebP and AVIF format can now be uploaded and delivered in their original size through XP, similar to how GIF and SVG files are handled - resizing and transformations are not yet supported.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Requires upgrading to Content Studio 5.3 or later.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="typescript"><a class="link" href="#typescript">TypeScript</a></h3>
<div class="paragraph">
<p>The <code>@enonic-types/core</code> package now includes TypeScript types for XP&#8217;s <code>Request</code> and <code>Response</code> objects.</p>
</div>
</div>
<div class="sect2">
<h3 id="other_changes"><a class="link" href="#other_changes">Other changes</a></h3>
<div class="ulist">
<ul>
<li>
<p>Added support for <code>patch</code> method in <a href="framework/controllers.ahtml#http-controller">HTTP Controllers</a>.</p>
</li>
<li>
<p>Added ability to remove previously set HTTP Headers in controllers/filters.
NOTE: Headers set by <a href="deployment/config.ahtml#header">Header Filter</a> cannot be removed.</p>
</li>
<li>
<p>HTTP gzip compression is now disabled by default. Gzip compression often makes response chunked, which is not supported by some CDNs. It can manually be enabled in <a href="deployment/config.ahtml#jetty">Jetty config</a>.</p>
</li>
<li>
<p>Automatic media-type detection for some essential file extensions such as <code>webmanifest</code>, <code>ico</code>, <code>webp</code>, <code>avif</code> &#8230;&#8203;  added, so you don&#8217;t need to list them in <a href="deployment/config.ahtml#media">Media config</a>.</p>
</li>
<li>
<p><a href="deployment/backup-restore.ahtml">Vacuuming</a> now deletes snapshots that are no longer usable, or snapshots that are older that specified threshold.</p>
</li>
<li>
<p>Repositories can now be created as transient - meaning that their data is not stored in system dumps and snapshots.</p>
</li>
<li>
<p>Repository <code>cache.capacity</code> replaces <code>cache.size</code> in <a href="deployment/config.ahtml#repo">Repo config</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="deprecated_asset_service"><a class="link" href="#deprecated_asset_service">Deprecated asset service</a></h3>
<div class="paragraph">
<p>To give developers more control, and make XP more flexible - the Asset Service is now officially deprecated. It will be removed in a future version of XP. Future-proof your application by upgrading to the new <a href="https://developer.enonic.com/docs/lib-asset">asset library</a> - a drop-in replacement. Upgrade instructions are in the documentation.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
For even more control over your asset serving, check out lib static instead.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xp7_update_14"><a class="link" href="#xp7_update_14">XP7 Update 14</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="sdk"><a class="link" href="#sdk">SDK</a></h3>
<div class="ulist">
<ul>
<li>
<p>When a new XP sandbox is created using Enonic CLI 2.8 (or newer) and a template is chosen, the applications bundled with the chosen template are automatically installed during the sandbox&#8217;s initial launch. This significantly streamlines the setup process, enabling developers to bypass the usual time-consuming application installation and dive straight into their work.</p>
</li>
<li>
<p>Welcome page (available at <a href="http://localhost:8080/" class="bare">http://localhost:8080/</a> in SDK version) displays the list of configuration files with an option to quickly copy their paths to the clipboard, enabling developers to quickly open the configuration files for modification in the Terminal.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="release/images/714-sdk-welcome.png" alt="SDK Welcome page" width="797"></span></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xp7_update_13"><a class="link" href="#xp7_update_13">XP7 Update 13</a></h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Earlier versions of Content Studio (before 5.0) are not compatible with Enonic XP 7.13.0 (and newer), so make sure to upgrade to Content Studio 5.0.0 or newer.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="graalvm_for_jdk_17"><a class="link" href="#graalvm_for_jdk_17">GraalVM for JDK 17</a></h3>
<div class="ulist">
<ul>
<li>
<p>XP is now powered by GraalVM for JDK 17 - latest LTS version</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="management_api"><a class="link" href="#management_api">Management API</a></h3>
<div class="ulist">
<ul>
<li>
<p><code>webapps</code>, <code>projects</code> and <code>idproviders</code> have been added to the <a href="runtime/management.ahtml#management_endpoint">Management Endpoint</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="statistics_api"><a class="link" href="#statistics_api">Statistics API</a></h3>
<div class="ulist">
<ul>
<li>
<p>A new healthcheck (<code>health</code>) and readiness (<code>ready</code>) endpoint has been added to the <a href="runtime/statistics.ahtml#statistics_endpoint">Statistics Endpoint</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="task_api"><a class="link" href="#task_api">Task API</a></h3>
<div class="ulist">
<ul>
<li>
<p>A new <code>taskId</code> parameter has been added to the Task <a href="framework/tasks.ahtml#controller">Controller</a>.</p>
</li>
<li>
<p>Added ability to set custom task <code>name</code> when <a href="api/lib-task.ahtml#submittask">Submitting</a> a task.</p>
</li>
<li>
<p>Task info returned by <a href="api/lib-task.ahtml#get">get</a> and <a href="api/lib-task.ahtml#list">list</a> now includes <code>node</code> - XP node name where the task runs.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sdk_2"><a class="link" href="#sdk_2">SDK</a></h3>
<div class="ulist">
<ul>
<li>
<p>Welcome page of the Enonic SDK has been greatly improved to show the main XP endpoints, a new section with installed applications and allow browsing existing content projects, sites and webapps. Admin section allows logging in as a guest, unless admin user has been created. You can open admin tools and webapps with one click, directly from this page. Content Projects and Sites can be open with one click in Content Studio, if it&#8217;s installed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="release/images/713-sdk-welcome.png" alt="SDK Welcome page" width="75%"></span></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="release/images/713-sdk-welcome-projects.png" alt="SDK Welcome page projects" width="50%"></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Login page in SDK has been slightly improved to emphasise the "Log in as Guest" action until an admin user is created.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="release/images/713-sdk-login.png" alt="SDK Login page" width="75%"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="other_changes_2"><a class="link" href="#other_changes_2">Other Changes</a></h3>
<div class="ulist">
<ul>
<li>
<p><a href="admin/widgets.ahtml#descriptor">Widget Descriptor</a> now supports localization of widget title and description.</p>
</li>
<li>
<p>Vacuum, Dump, Load, AuditLog-Cleanup and Reindex tasks can only run single instance at a time within a cluster.</p>
</li>
<li>
<p>Introduced Node Repo cache to improve performance of Node API. Can be configured in <a href="deployment/config.ahtml#repo">Repo config</a>.</p>
</li>
<li>
<p>Robustness of scheduled jobs has been improved.</p>
</li>
<li>
<p>Various improvements to the TypeScript types.</p>
</li>
<li>
<p>Various bug fixes and performance improvements.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xp7_update_12"><a class="link" href="#xp7_update_12">XP7 Update 12</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="dashboard_widgets"><a class="link" href="#dashboard_widgets">Dashboard Widgets</a></h3>
<div class="paragraph">
<p>New widget interface <code>admin.dashboard</code> can be used to create widgets for the Admin Dashboard.
Read more about implementation details <a href="admin/widgets.ahtml#dashboard_widgets">here</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="content_variants"><a class="link" href="#content_variants">Content Variants</a></h3>
<div class="ulist">
<ul>
<li>
<p>Content Duplicate API was extended to support Content Variants, useful for A/B testing</p>
</li>
<li>
<p>Added <code>name</code> and <code>parent</code> to <code>duplicate</code> low level Java API</p>
</li>
<li>
<p>Added <code>duplicate</code> method to the JS lib-content and lib-node APIs</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="site_mapping_for_services"><a class="link" href="#site_mapping_for_services">Site mapping for services</a></h3>
<div class="paragraph">
<p>Site Mappings can now be used to customize the behavior of Image, Attachment and Component services <a href="framework/mappings.ahtml#service_mappings">Services</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="add_apps_to_projects"><a class="link" href="#add_apps_to_projects">Add apps to projects</a></h3>
<div class="paragraph">
<p>Previously, custom content types required you to create a site, and link your app to the site before you could create them. <a href="cms/projects.ahtml#applications">Project Applications</a> enable you to add apps directly to the project instead, and thus create custom content directly on the project root.</p>
</div>
<div class="paragraph">
<p>Also, controller mappings will now work on project level, which means you may also write custom previews without using sites.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Pages, fragments and page templates still require to be in the context of a site.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="other_changes_3"><a class="link" href="#other_changes_3">Other changes</a></h3>
<div class="ulist">
<ul>
<li>
<p>Draft branch access was previously restricted through the use of virtual hosts solely. Direct access now requires an authorized user. Role-based access can be configured via <code>draftBranchAllowedFor</code> setting in the <a href="deployment/config.ahtml#portal">Portal configuration</a> settings.</p>
</li>
<li>
<p>Support of arm64 (aarch64) used in Apple M1/M2 chips for instance, is no longer experimental. You may see a message <code>WARN org.elasticsearch.bootstrap - JNA not found. native methods will be disabled.</code> It does not affect XP operations and can be safely ignored.</p>
</li>
<li>
<p>Added <code>modifyMedia</code> method to the JS <a href="api/lib-content.ahtml#modifymedia">lib-content</a> API</p>
</li>
<li>
<p>Content API audit-log no longer logs <code>system.content.update</code> events by default. This can be changed back by setting <code>auditlog.filter = *</code> in <a href="deployment/config.ahtml#content">content config</a></p>
</li>
<li>
<p>Added possibility to delete indices before <a href="runtime/management.ahtml#restore">Restore</a> by using <code>force</code> option</p>
</li>
<li>
<p>The standard 403 error page now has a handy Logout button</p>
</li>
<li>
<p>Various improvements to the TypeScript types</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xp7_update_11"><a class="link" href="#xp7_update_11">XP7 Update 11</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="typescript_core_libraries"><a class="link" href="#typescript_core_libraries">TypeScript Core libraries</a></h3>
<div class="paragraph">
<p>All JavaScript XP core libraries have been rewritten to TypeScript.
TypeScript definitions are published on <a href="https://www.npmjs.com/search?q=%40enonic-types">NPM</a></p>
</div>
<div class="paragraph">
<p>Learn how to include references to TS definitions in your project <a href="api.ahtml#typescript_definitions">here</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Special thanks to Tom Arild Jakobsen at Item Consulting for his contribution to TypeScript support in XP.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="virtual_applications_and_no_code_schema"><a class="link" href="#virtual_applications_and_no_code_schema">Virtual Applications and No-code Schema</a></h3>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This feature is <em>experimental</em>.
It&#8217;s still under development design but is available for users to test and provide feedback.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Virtual Applications can be used as an alternative to installed (real) ones.
They are code-less and can only contribute to schema definitions.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Virtual application behavior can be configured in <a href="deployment/config.ahtml#application">application config</a></p>
</div>
</div>
<div class="sect2">
<h3 id="query_dsl_improvements"><a class="link" href="#query_dsl_improvements">Query DSL improvements</a></h3>
<div class="ulist">
<ul>
<li>
<p><a href="storage/dsl.ahtml#_exists"><code>exists</code></a> expression support</p>
</li>
<li>
<p><a href="storage/dsl.ahtml#_filter"><code>filter</code></a> clause support in <code>boolean</code> query</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="other_improvements"><a class="link" href="#other_improvements">Other improvements</a></h3>
<div class="ulist">
<ul>
<li>
<p>Support content links with query parameters in HtmlArea</p>
</li>
<li>
<p>Various Vacuum performance and stability improvements</p>
</li>
<li>
<p>Migrate to OSGi Compendium 8</p>
</li>
<li>
<p>Query parameters are now supported for content URLs in HtmlArea</p>
</li>
<li>
<p>Content API verifies checksum for attachments and skips update if attachment is not changed</p>
</li>
<li>
<p>Support setting Workflow status on Media update</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xp7_update_10"><a class="link" href="#xp7_update_10">XP7 Update 10</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="shared_map"><a class="link" href="#shared_map">Shared Map</a></h3>
<div class="paragraph">
<p>Shared Map framework is now part of XP.
Shared Map сan be used to share transient data between nodes in cluster and/or applications.
Both <a href="api/lib-grid.ahtml#_grid_library">JavaScript</a> and low level Java APIs are available.</p>
</div>
</div>
<div class="sect2">
<h3 id="other_improvements_2"><a class="link" href="#other_improvements_2">Other improvements</a></h3>
<div class="ulist">
<ul>
<li>
<p>XP distro is now bundled with GraalVM Community Edition based JDK (v.22.1). JavaScript Engine is still Nashorn.</p>
</li>
<li>
<p>Introduced <em>experimental</em> support of arm64 (aarch64) based CPUs. (For instance, Apple M1 CPU)</p>
</li>
<li>
<p>Content related descriptors expose <code>modifiedTime</code> field to check for content schema changes.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xp7_update_9"><a class="link" href="#xp7_update_9">XP7 Update 9</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="query_dsl"><a class="link" href="#query_dsl">Query DSL</a></h3>
<div class="paragraph">
<p><a href="storage/dsl.ahtml#_dsl">Query DSL</a> can now be used instead of NoQL for content and node searches.
It also supports <a href="storage/dsl.ahtml#_boosting">boosting</a> of any expressions.
Sorting can also be done with <a href="storage/dsl.ahtml#sort">Sort DSL</a> syntax.</p>
</div>
</div>
<div class="sect2">
<h3 id="applications_and_security_audit_log"><a class="link" href="#applications_and_security_audit_log">Applications and Security Audit Log</a></h3>
<div class="paragraph">
<p><a href="auditLogs.ahtml#_audit_logs">Audit Log</a> now logs <a href="auditLogs.ahtml#principals_and_id_providers">Principals and ID providers</a> modifications
and global <a href="auditLogs.ahtml#application">Application</a> actions.</p>
</div>
</div>
<div class="sect2">
<h3 id="content_security_policy"><a class="link" href="#content_security_policy">Content-Security-Policy</a></h3>
<div class="paragraph">
<p>Default Content-Security-Policy (CSP) header is now applied for page preview.
It improves Content Studio security but may introduce issues for pages which use inline scripts: inline scripts cannot be easily distinguished from XSS attacks and must be avoided.
If you are experiencing problems with CSP header you can configure or disable it in <a href="deployment/config.ahtml#admin">Admin config</a>.
Controllers can provide their own CSP, if needed.</p>
</div>
<div class="paragraph">
<p>Attachment and Image Services now have a strict Content-Security-Policy header to mitigate possible XSS vulnerabilities.
It can be configured in <a href="deployment/config.ahtml#portal">Portal config</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="default_security_headers"><a class="link" href="#default_security_headers">Default security headers</a></h3>
<div class="paragraph">
<p>All http responses now have the following headers set:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>X-Frame-Options: DENY
X-XSS-Protection: 1; mode=block
X-Content-Type-Options: nosniff</code></pre>
</div>
</div>
<div class="paragraph">
<p>As before, they can be customized in <a href="deployment/config.ahtml#header_filter">header filter config</a> or turned off completely.
Controllers can override them, if needed.</p>
</div>
</div>
<div class="sect2">
<h3 id="other_improvements_3"><a class="link" href="#other_improvements_3">Other improvements</a></h3>
<div class="ulist">
<ul>
<li>
<p><a href="api/lib-portal.ahtml">Portal lib API</a> can now construct websocket URIs with <code>serviceUrl</code> and <code>url</code> methods.</p>
</li>
<li>
<p>Testing API <code>com.enonic.xp:testing</code> now supports <code>assertThrows</code> method.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xp7_update_8"><a class="link" href="#xp7_update_8">XP7 Update 8</a></h2>
<div class="sectionbody">
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Versions of Content Studio before 4.0.0 will not run on XP 7.8.0 or later.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="libraries"><a class="link" href="#libraries">Libraries</a></h3>
<div class="ulist">
<ul>
<li>
<p>Javascript API for creating and importing is now available as a new library called <a href="api/lib-export.ahtml"><code>lib-export</code></a>.</p>
</li>
<li>
<p>Content API has been extended with new constants and functions for <a href="api/lib-content.ahtml#archive">archive</a> and <a href="api/lib-content.ahtml#restore">restore</a></p>
</li>
<li>
<p>Authentication API now allows verifying credentials without actual <a href="api/lib-auth.ahtml#login">login</a></p>
</li>
<li>
<p>Context API now allows passing custom attributes in the <a href="api/lib-context.ahtml#context">Context</a> object</p>
</li>
<li>
<p>Portal API now supports imageSizes parameter in <a href="api/lib-portal.ahtml#processhtml"><code>processHtml</code></a> function</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="custom_content_validators"><a class="link" href="#custom_content_validators">Custom content validators</a></h3>
<div class="paragraph">
<p>It&#8217;s now possible to implement custom content validators via <a href="cms/validators.ahtml#_content_validators">Content Validators low level Java API</a>. Custom error messages
can be i18n-localised and will be displayed in Content Studio.</p>
</div>
</div>
<div class="sect2">
<h3 id="other_improvements_4"><a class="link" href="#other_improvements_4">Other improvements</a></h3>
<div class="ulist">
<ul>
<li>
<p>Service mapping and request matching in <a href="deployment/vhosts.ahtml">Vhosts</a> has been greatly improved</p>
</li>
<li>
<p>Now possible to map controller or filter to the site itself.</p>
</li>
<li>
<p>Exports folder location is now <a href="deployment/config.ahtml#_export">configurable</a></p>
</li>
<li>
<p><a href="framework/i18n.ahtml#_localization">Localization service</a> now officially supports Java MessageFormat.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xp7_update_7"><a class="link" href="#xp7_update_7">XP7 Update 7</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="scheduler"><a class="link" href="#scheduler">Scheduler</a></h3>
<div class="paragraph">
<p>Periodical (cron-like) and one-time <a href="framework/scheduler.ahtml#_scheduler">Job Scheduler</a> is now available.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Two jobs for periodical vacuum and audit-log cleanup were added. Preconfigured in <a href="deployment/config.ahtml#scheduler">Scheduler config</a>.</p>
</li>
<li>
<p>New <a href="api/lib-scheduler.ahtml#_scheduler_library">scheduler core library</a> allows controlling jobs programmatically.</p>
</li>
<li>
<p>Management Endpoint was extended to be able to <a href="runtime/management.ahtml#scheduled_jobs_list">list</a> currently scheduled jobs.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="audit_log_cleanup"><a class="link" href="#audit_log_cleanup">Audit-log cleanup</a></h3>
<div class="ulist">
<ul>
<li>
<p>Management port was extended to be able to <a href="runtime/management.ahtml#clean_up_audit_log">clean up audit-log</a> records.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="samesite_cookies"><a class="link" href="#samesite_cookies">SameSite cookies</a></h3>
<div class="ulist">
<ul>
<li>
<p>Added support for <a href="framework/http.ahtml#http-cookies">SameSite attribute</a> for cookies.</p>
</li>
<li>
<p>Session cookie sets SameSite=Lax by default.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="content_type_filtering"><a class="link" href="#content_type_filtering">Content-type filtering</a></h3>
<div class="ulist">
<ul>
<li>
<p><code>allow-child-content-type</code> in <a href="cms/content-types.ahtml#form_definition">Content Type descriptor</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="other_improvements_5"><a class="link" href="#other_improvements_5">Other improvements</a></h3>
<div class="ulist">
<ul>
<li>
<p>New and improved <a href="storage/aggregations.ahtml#_aggregations">aggregations</a>.</p>
</li>
<li>
<p><code>getCommit</code> in <a href="api/lib-node.ahtml#getcommit">Node JS API</a>.</p>
</li>
<li>
<p><code>srcset</code> support in <a href="api/lib-portal.ahtml#processhtml">processHtml</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xp7_update_6"><a class="link" href="#xp7_update_6">XP7 Update 6</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="content_layers"><a class="link" href="#content_layers">Content Layers</a></h3>
<div class="paragraph">
<p><a href="cms/layers.ahtml">Content Layers</a> enable automatic replication of content across dependant repositories.
This feature can be used to implement multi language sites.
<a href="api/lib-project.ahtml">JavaScript API</a> is also available.</p>
</div>
</div>
<div class="sect2">
<h3 id="vhost_api"><a class="link" href="#vhost_api">VHost API</a></h3>
<div class="paragraph">
<p>VHost API is now made public. Enumerate VHosts configured for your XP instances to customize URL handling.</p>
</div>
</div>
<div class="sect2">
<h3 id="management_api_for_applications"><a class="link" href="#management_api_for_applications">Management API for applications</a></h3>
<div class="ulist">
<ul>
<li>
<p>Management Port got extended to be able to <a href="runtime/management.ahtml#start">start</a>,
<a href="runtime/management.ahtml#stop">stop</a> and <a href="runtime/management.ahtml#uninstall">uninstall</a> an application.</p>
</li>
<li>
<p>The <a href="runtime/management.ahtml#server_sent_events">new SSE endpoint</a> allows listing installed applications and listening to application status changes.</p>
</li>
<li>
<p>Application installation can now be verified with <a href="runtime/management.ahtml#install_from_url">SHA512 checksum</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="distributable_tasks"><a class="link" href="#distributable_tasks">Distributable tasks</a></h3>
<div class="ulist">
<ul>
<li>
<p>All Named Tasks are now <a href="deployment/config.ahtml#task">cluster-aware</a> and run on any XP node that can do it, not only where it was submitted.</p>
</li>
<li>
<p>Application <a href="deployment/config.ahtml#application">allow/deny</a> lists feature helps to fine-tune new High Availability behaviour.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="websocket_api_extensions"><a class="link" href="#websocket_api_extensions">Websocket API extensions</a></h3>
<div class="ulist">
<ul>
<li>
<p><a href="framework/websocket.ahtml">Websocket API</a> is extended to get access to authentication info inside websocket handlers.</p>
</li>
<li>
<p><code><a href="api/lib-websocket.ahtml#getgroupsize">getGroupSize</a></code> method counts number of participants in a specific websocket group.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="other_improvements_6"><a class="link" href="#other_improvements_6">Other improvements</a></h3>
<div class="ulist">
<ul>
<li>
<p>Serviced support</p>
</li>
<li>
<p>Improved 404 default page</p>
</li>
<li>
<p>Improved server log messages</p>
</li>
<li>
<p>New icon for <code>media:content</code></p>
</li>
<li>
<p>System translated to Dutch</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xp7_update_5"><a class="link" href="#xp7_update_5">XP7 Update 5</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="snapshot_restore_latest_option"><a class="link" href="#snapshot_restore_latest_option">Snapshot Restore <code>latest</code> option</a></h3>
<div class="paragraph">
<p><code>latest</code> option simplifies day-to-day snapshot/restore routines.</p>
</div>
</div>
<div class="sect2">
<h3 id="meta_data_in_contentlib_query_results"><a class="link" href="#meta_data_in_contentlib_query_results">Meta-data in contentLib query results</a></h3>
<div class="paragraph">
<p><code>_sort</code> and <code>_score</code> calculated meta fields are exposed in contentLib query results. Now it is possible to know how content items were sorted.</p>
</div>
</div>
<div class="sect2">
<h3 id="calculated_distance_in_geodistance_aggregation"><a class="link" href="#calculated_distance_in_geodistance_aggregation">Calculated distance in geoDistance aggregation</a></h3>
<div class="paragraph">
<p>Another use of <code>_sort</code> calculated field is a geoDistance value. It calculates distance from provided coordinates to a geoPoint set in the content item.</p>
</div>
</div>
<div class="sect2">
<h3 id="other_improvements_7"><a class="link" href="#other_improvements_7">Other improvements</a></h3>
<div class="ulist">
<ul>
<li>
<p>New simpler default error page in production mode.</p>
</li>
<li>
<p><code>network.publish.host</code> configuration value now does not have a strict default value and falls back to Elasticsearch/Hazelcast preference (usually <code>network.host</code> value).</p>
</li>
<li>
<p>Snapshot-restore and system dump stability improvements.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xp7_update_4"><a class="link" href="#xp7_update_4">XP7 Update 4</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This version of Enonic XP is rather different from most others.  There is no large feature set of noticeable changes, but rather
a very important architectural change:</p>
</div>
<div class="paragraph">
<p>We have added Hazelcast to do events, tasks and sessions in the cluster.
ElasticSearch is still there, but by using Hazelcast for these features, the cluster is more stable, and we now support Distributed Sessions.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Please read the <a href="release/upgrade.ahtml">upgrade notes</a> in relation to backward compatibility.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="other_improvements_8"><a class="link" href="#other_improvements_8">Other improvements</a></h3>
<div class="paragraph">
<p>In addition to the cluster freatures, <code>AlwaysPreTouch</code> has been enabled to avoid extra GC pauses on large installations.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xp7_update_3"><a class="link" href="#xp7_update_3">XP7 Update 3</a></h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Please read the <a href="release/upgrade.ahtml">upgrade notes</a> in relation to backward compatibility.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="content_projects"><a class="link" href="#content_projects">Content projects</a></h3>
<div class="paragraph">
<p>XP now supports creating and working with content projects. Each project will create a separate repository, where content is isolated from the other projects. The repositories are named <code>com.enonic.cms.&lt;projectname&gt;</code>. Projects also introduce a simplified model in relation to permissions management and other default settings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Set a default language for the project</p>
</li>
<li>
<p>Set default access mode (public, private or custom)</p>
</li>
<li>
<p>Give access to project via pre-defined roles (Owner, Editor, Author and Contributor)</p>
</li>
<li>
<p>Default content permissions are set via the pre-defined roles and access model</p>
</li>
<li>
<p>Projects can also be programmatically managed via the new <a href="api/lib-project.ahtml">project API</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To take advantage of projects, you must also upgrade to Content Studio v3.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For full backward compatibility, the default content repository (Default project) remains unchanged.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="compressed_dump_and_load"><a class="link" href="#compressed_dump_and_load">Compressed dump and load</a></h3>
<div class="paragraph">
<p>Dumps can now be streamed directly to a compressed archive to use less disk space, and speed up the process. Loads can similarly load data directly from a compressed archive. We now recommend always using compression when performing dump and load.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For backward compatibility, using compression requres a setting a flag when using Enonic CLI.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="login_without_sessions"><a class="link" href="#login_without_sessions">Login without sessions</a></h3>
<div class="paragraph">
<p>The updated auth API now supports request scoped logins, without having to manually modify the request context.</p>
</div>
<div class="paragraph">
<p>This is in particulary useful for handling modern stateful clients (i.e. using JSON Web Tokens), meaning that a server session is no longer created when logging in. Getting rid of sessions provide more scalability and reliability from a server side perspective.</p>
</div>
<div class="paragraph">
<p>Details are available in the <a href="api/lib-auth.ahtml">auth API documentation</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="selected_improvements"><a class="link" href="#selected_improvements">Selected improvements</a></h3>
<div class="paragraph">
<p>The following improvements are also part of this release:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Color highlighting in console logs</p>
</li>
<li>
<p>Content API - Get content by version ID</p>
</li>
<li>
<p>Page template resolution is now faster - especially relevant for sites with many page templates</p>
</li>
<li>
<p>The default threshold to compress http content changed from 16 to 23 bytes</p>
</li>
<li>
<p>New Jetty <a href="deployment/config.ahtml#Jetty">http.threadpool configuration options</a> are now available</p>
</li>
<li>
<p>Improved logging now include details that were previously missing</p>
</li>
<li>
<p>Improved peformance and stability for web sockets</p>
</li>
<li>
<p>Improved handling of StackOverflowError</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xp7_update_2"><a class="link" href="#xp7_update_2">XP7 Update 2</a></h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
v7.2 is fully backward compatible with previous v7.x versions.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="audit_log"><a class="link" href="#audit_log">Audit Log</a></h3>
<div class="paragraph">
<p>Any application can now store audit logs in a new common repository: "system.auditlog".</p>
</div>
<div class="paragraph">
<p>A core JS library <a href="api/lib-auditlog.ahtml">Audit Library</a> has been added to help you store and retrieve these audit logs</p>
</div>
</div>
<div class="sect2">
<h3 id="content_api_audit_log"><a class="link" href="#content_api_audit_log">Content API - Audit Log</a></h3>
<div class="paragraph">
<p>All successful state-changing operations, through the Content API, will create an audit log entry.
In other words, all create/edit/publish/&#8230;&#8203; in Content Studio or by using the content library will create an audit log entry
This feature can be disabled by modifying the configuration file <a href="deployment/config.ahtml#_content">com.enonic.xp.content.cfg</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="node_library_get_node_by_version"><a class="link" href="#node_library_get_node_by_version">Node library - Get node by version</a></h3>
<div class="paragraph">
<p>You can now retrieve an old version of a node by using the <a href="api/lib-node.ahtml#_get">RepoConnection::get</a> method.</p>
</div>
</div>
<div class="sect2">
<h3 id="custom_part_icons"><a class="link" href="#custom_part_icons">Custom part icons</a></h3>
<div class="paragraph">
<p>Part component now supports a custom icon which will be used instead of the default one in Content Studio - in the Page Component tree
and dropdowns with part descriptors. Just place an icon (in either PNG or SVG format) with the same name as the descriptor schema
into the same folder. For example, if part/folder is called <em>mypart</em> then part descriptor is called <em>mypart.xml</em> and the icon file should be called
either <em>mypart.svg</em> or <em>mypart.png</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="header_filter"><a class="link" href="#header_filter">Header filter</a></h3>
<div class="paragraph">
<p>It is now possible to specify default headers set for every HTTP response via header filter.
Default headers can be configured in <code>com.enonic.xp.web.header.cfg</code> configuration file via <code>headerConfig</code> property.
If no value is specified <code>set X-Frame-Options: DENY,set X-XSS-Protection: 1; mode=block,set X-Content-Type-Options: nosniff</code> is used.
Empty value disables Header filter.</p>
</div>
<div class="listingblock">
<div class="title">Cross site scripting prevention headers</div>
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">headerConfig = set X-Frame-Options: SAMEORIGIN,set X-XSS-Protection: 1; mode=block,set X-Content-Type-Options: nosniff</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xp7_update_1"><a class="link" href="#xp7_update_1">XP7 Update 1</a></h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
v7.1 is fully backward compatible with v7.0 and was released in parallel with Content Studio v2.1.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This update introduces new features and improvements as well as 28 bugfixes.
The <a href="https://github.com/enonic/xp-distro/releases/tag/v7.1.0">complete list of changes</a> is available on Github.</p>
</div>
<div class="sect2">
<h3 id="query_highlighting"><a class="link" href="#query_highlighting">Query highlighting</a></h3>
<div class="paragraph">
<p>The storage and CMS API now provide out-of-the-box highlighting functionality.</p>
</div>
<div class="paragraph">
<p>By submitting a highlighter definition together with your query,
you will in return get text fragments where relevant search strings are highlighted.
This is especially useful when presenting search results to end users.</p>
</div>
<div class="listingblock">
<div class="title">Sample query with hightlighter</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  query: "fulltext('description', 'house garden big')",
  highlight: {
    properties: {
      "description": {
        fragmentSize: 15,
        numberOfFragments: 2
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Sample result from above query</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    ...
  "highlight": {
    "c4bb11f1-c6e2-4849-a665-28f612213984": {
      "description": [
        " &lt;em&gt;house&lt;/em&gt; with &lt;em&gt;big&lt;/em&gt;",
        " maintained &lt;em&gt;garden&lt;/em&gt;."
      ]
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="storage/highlighting.ahtml">Read more about highlighting</a></p>
</div>
</div>
<div class="sect2">
<h3 id="content_workflow"><a class="link" href="#content_workflow">Content Workflow</a></h3>
<div class="paragraph">
<p>The Content API now introduces support for basic workflow capabilities.
When creating or modifying content, workflow status may be specified.
Currently the following statuses are available: IN_PROGRESS, READY,</p>
</div>
<div class="paragraph">
<p>The API will now prevent publishing of content unless it is in the workflow state <code>READY</code>.</p>
</div>
<div class="paragraph">
<p>For backward compatibility, if workflow state is not specified, it is equivalent to <code>READY</code>.
Also, modifying content will keep the item&#8217;s existing workflow state.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="release/images/workflow-icons.png" alt="Screenshot showing workflow state in Content Studio" width="480"></span></p>
</div>
<div class="paragraph">
<p>Check out the <a href="api/lib-content.ahtml">content api</a> for usage details</p>
</div>
</div>
<div class="sect2">
<h3 id="customizable_display_name_label"><a class="link" href="#customizable_display_name_label">Customizable display name label</a></h3>
<div class="paragraph">
<p>For an improved editorial experience, developers may now override the default &lt;Display Name&gt; text on a per content type basis.
This helps make the content form more intuitive.</p>
</div>
<div class="paragraph">
<p>By adding the following line to your content type definition:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;display-name-label&gt;Some cool text here&lt;/display-name-label&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Editors will see the following in content studio.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="release/images/display-name-label.png" alt="Screenshot showing what this looks like in Content Studio" width="768"></span></p>
</div>
<div class="paragraph">
<p>Visit the <a href="cms/content-types.ahtml">Content Types documentation</a> for more detail</p>
</div>
</div>
<div class="sect2">
<h3 id="publishing_message"><a class="link" href="#publishing_message">Publishing message</a></h3>
<div class="paragraph">
<p>The content API&#8217;s publish function now supports adding a message.
This message is added to the "commit" entry that was added to the function with the release of XP7.</p>
</div>
<div class="paragraph">
<p>The publish message is builds on the commit functionality of the Node API.</p>
</div>
<div class="paragraph">
<p>Content studio enables you to see the publishing message from the version history widget.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="release/images/publish-message.png" alt="Screenshot showing where to write the publish message from Content Studio" width="768"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="selected_improvements_2"><a class="link" href="#selected_improvements_2">Selected improvements</a></h3>
<div class="paragraph">
<p>Some of the improvements included in this release are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>New exists() function for both node and content API provides faster existence checks over using get()</p>
</li>
<li>
<p>Assets with .es extension are now served with the javascript MIME type</p>
</li>
<li>
<p>File names are now sanitised during upload to prevent use of illegal characters</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xp7"><a class="link" href="#xp7">XP7</a></h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<strong>Breaking changes</strong> XP 7 contains breaking changes. Follow the <a href="release/upgrade.ahtml">upgrade instructions</a> carefully to secure a successful upgrade.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Enonic XP 7 takes a major leap in simplifying application development and making the platform leaner and more flexible.</p>
</div>
<div class="paragraph">
<p>The biggest highlights of XP 7 is not the core platform, but all the changes around it:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>New documentation - The documentation you are reading was created from scratch for XP 7</p>
</li>
<li>
<p><a href="#developer_portal">Developer portal</a> - All XP related developer resources and docs in one place</p>
</li>
<li>
<p><a href="#enonic_cli">Enonic CLI</a> - For managing XP development project, also replaces the toolbox shell script</p>
</li>
<li>
<p><a href="#native_distributions">Native distributions</a>. The JVM runtime is now bundled with XP</p>
</li>
<li>
<p>Content Studio - Is now available as an app to download from <a href="https://market.enonic.com/vendors/enonic/content-studio">Enonic Market</a>.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="developer_portal"><a class="link" href="#developer_portal">Developer portal</a></h3>
<div class="imageblock">
<div class="content">
<img src="release/images/developer-portal.png" alt="Screenshot of the new developer portal" width="720">
</div>
</div>
<div class="paragraph">
<p>In order for developers to better and more easily navigate the XP ecosystem, we created a dedicated portal.
The portal contains</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>XP docs:</strong> The XP core platform documentation (which you are reading now)</p>
</li>
<li>
<p><strong>Reference docs:</strong> For all XP related apps, starters, libraries and more that are built by Enonic.</p>
</li>
<li>
<p><strong>Hands on guides:</strong> Practical how-to guides an tutorials, including the getting started page</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="built_with_xp"><a class="link" href="#built_with_xp">Built with XP</a></h4>
<div class="paragraph">
<p>The portal is naturally an XP app itself.
The geeky fact is that all docs and most guides are written in Asciidoctor together with the actual product code.</p>
</div>
<div class="paragraph">
<p>When we commit, changes to the docs are automatically checked out, compiled and imported to XP as content.
This optimize how developers produce content,
while taking advantage of everything XP offers at the same time.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="release/images/built-with-xp.png" alt="Screenshot of dev portal edited in Content Studio" width="720">
</div>
</div>
<div class="paragraph">
<p>We plan to release the core elements of the doc portal on the market in the future.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="enonic_cli"><a class="link" href="#enonic_cli">Enonic CLI</a></h3>
<div class="paragraph">
<p>The brand new Enonic Command Line Interface - "Enonic CLI" was also released at the same time as XP 7.
It is versioned independently for more frequent updates.
The CLI not only replaces the old toolbox script,
it also introduces new and flexible ways of installing XP and managing projects and development environments.</p>
</div>
<div class="paragraph">
<p>Installing CLI, Enonic XP, building and deploying your first app can now be done with a few simple commands,
as described in the <a href="https://developer.enonic.com/start">getting started section</a> of the developer portal</p>
</div>
<div class="paragraph">
<p>The CLI is available for Mac, Linux and Windows. For more information, check out the <a href="https://developer.enonic.com/docs/enonic-cli">full documentation</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="native_distributions"><a class="link" href="#native_distributions">Native distributions</a></h3>
<div class="paragraph">
<p>The biggest conceptual change to XP is that the JVM is no longer required in order to run XP.
XP 7 ships with JVM 11 embedded. As such, we now release native distributions of XP for the three major platforms, Mac, Windows and Linux.
Expect future versions of XP to make more use of server native capabilities beyond the JVM.
As always, you will never have to worry about portability when writing XP apps.</p>
</div>
<div class="paragraph">
<p>There are several reasons for this move:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Developers no longer need to install or juggle with different versions of the JVM</p>
</li>
<li>
<p>Installation of XP is faster and sleeker than ever</p>
</li>
<li>
<p>We can take advantage of OS native functionality when required</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>With this change, XP is now available in SDK and Server version.
The SDK includes the full JDK,
whereas the server edition uses a slimmed down version of the JVM, and may be further optimized for production use.</p>
</div>
</div>
<div class="sect2">
<h3 id="content_studio_is_an_app"><a class="link" href="#content_studio_is_an_app">Content Studio is an app</a></h3>
<div class="paragraph">
<p>Content Studio, the CMS editorial interface has been moved out of the XP core.
It is now available as a separate application on <a href="https://market.enonic.com/vendors/enonic/content-studio">Enonic Market</a></p>
</div>
<div class="paragraph">
<p>Content Studio can now be released more frequently than the XP core.
Expect new versions of Content Studio to be released along with new features in the XP core.</p>
</div>
<div class="paragraph">
<p>For Content Studio release notes, check out the <a href="https://developer.enonic.com/docs/content-studio">new documentation</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="cms"><a class="link" href="#cms">CMS</a></h3>
<div class="paragraph">
<p>Even if Content Studio can be installed as a separate application,
The XP core still ships with the <a href="api/lib-content.ahtml">content API</a> and <a href="./runtime/engines/site-engine.ahtml">site engine</a> that applications depend on.</p>
</div>
<div class="sect3">
<h4 id="image_styles"><a class="link" href="#image_styles">Image styles</a></h4>
<div class="paragraph">
<p>XP 7 introduces a new feature in the rich text editor called "Image styles".
Image styles consist of both client side styling (css), and image service rendering specifications.</p>
</div>
<div class="paragraph">
<p>The rich text editor was previously limited to pre-defined and hard-coded styles, such as <code>cinema (21:9)</code> or <code>square(1:1)</code>.
Now, application developers may define custom styles that control both server side rendering aspect ratio, and specify classes to annotate the specific image.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="release/images/old-photo-style.png" alt="Here we see an image using a style called old-photo, which adds the sephia effect to the image." width="720">
</div>
</div>
</div>
<div class="sect3">
<h4 id="projects_prepared"><a class="link" href="#projects_prepared">Projects prepared</a></h4>
<div class="paragraph">
<p>Customers with many sites have requested better support for isolation of sites, and specific access rights to each.
Our solution to create sites in different "projects", each project will be using its own repo.
XP 7 (and Content Studio) does not yet fully implement this features, but prepares the foundation for supporting it.</p>
</div>
<div class="paragraph">
<p>You will notice this through the following change:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The default CMS repo is renamed from "cms-repo" to "com.enonic.cms.default".</p>
</li>
<li>
<p>New projects will be using the extension as project name, i.e. project "myproject" will use repo "com.enonic.cms.myproject"</p>
</li>
<li>
<p>The site engine URLs now contain project name - i.e. <code>/site/&lt;project&gt;/&lt;branch&gt;/&lt;content-path&gt;</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="editor_references"><a class="link" href="#editor_references">Editor references</a></h4>
<div class="paragraph">
<p>References to images or other content in the rich text editor are now stored explicitly in the underlying node API.
The publishing wizard will now identify and include these dependencies like all other references - no more missed items during publishing.</p>
</div>
</div>
<div class="sect3">
<h4 id="stemmed_content"><a class="link" href="#stemmed_content">Stemmed content</a></h4>
<div class="paragraph">
<p>Content flagged with a language is now automatically stemmed during indexing (trimming words to their root form for better hits).
This is done using the standard Elasticsearch stemmer.
This is achieved by adding a stemmed version of the  <code>_allText</code> property, combined with a new query function.</p>
</div>
</div>
<div class="sect3">
<h4 id="better_page_indexing"><a class="link" href="#better_page_indexing">Better page indexing</a></h4>
<div class="paragraph">
<p>Pages, and their components are now indexed differently.
Rather than just looking for text within a page, developers may now search for any configuration property,
or metadata within a page.</p>
</div>
<div class="paragraph">
<p>As an example, one may now search the use of a specific part within a site.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="xp_storage"><a class="link" href="#xp_storage">XP Storage</a></h3>
<div class="paragraph">
<p>The XP storage has been refactored for improved performance and disk usage.</p>
</div>
<div class="sect3">
<h4 id="blobstore_improvements"><a class="link" href="#blobstore_improvements">Blobstore improvements</a></h4>
<div class="paragraph">
<p>XP persists all data in so-called blobstore segments, one segment for each type of data to persist.
XP 7 introduces new segments for indexconfig and permissions, enabling re-use of these across nodes, and node versions.</p>
</div>
<div class="paragraph">
<p>This reduces the use of disk space significantly.</p>
</div>
<div class="paragraph">
<p>Additionally, each repository now has it&#8217;s own root entry in the blobstore.
This makes it possible to directly manage blobs associated with a single repository.</p>
</div>
</div>
<div class="sect3">
<h4 id="version_commits"><a class="link" href="#version_commits">Version commits</a></h4>
<div class="paragraph">
<p>XP automatically creates new versions for each modification of a node.
Where XP 6 would persist all versions forever, XP 7 by default treats all versions as transient.
This means that all versions that are not currently in a branch, may be garbage collected at any time in the future.</p>
</div>
<div class="paragraph">
<p>To prevent versions from being removed, one may also commit.</p>
</div>
<div class="paragraph">
<p>For the Content API specifically, publishing an item will automatically create a commit, effectively placing a stamp on the specific versions being published.
Commits have id, committer, and optionally a commit message as meta data.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
XP 7 does not yet implement the garbage collector that removes uncommitted versions, this will be part of an upcoming release.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-06-05 16:42:32 UTC
</div>
</div>
</body>
</html>